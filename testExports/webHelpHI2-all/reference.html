<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#1D70B8"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-03-18T11:12:25.29386"><title>API reference | GOV.UK Pay technical documentation</title><script type="application/json" id="virtual-toc-data">[]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="icon" type="image/x-icon" sizes="16x16" href="images/crown-favicon.ico"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="API reference | GOV.UK Pay technical documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="GOV.UK Pay technical documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="reference.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="API reference | GOV.UK Pay technical documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "reference.html#webpage",
    "url": "reference.html",
    "name": "API reference | GOV.UK Pay technical documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "GOV.UK Pay technical documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Reference" data-main-title="API reference" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>GOV.UK Pay technical documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Reference" id="Reference.md">API reference</h1><p id="9db19a25_16853">GOV.UK Pay is a payment platform for government. If you work in the public sector, <a href="https://www.payments.service.gov.uk/" id="9db19a25_16854" data-external="true" rel="noopener noreferrer">read more about using GOV.UK Pay to take payments</a>.</p><p id="9db19a25_16855">The base URL for the GOV.UK Pay API is <code class="code" id="9db19a25_16856">https://publicapi.payments.service.gov.uk/</code>.</p><p id="9db19a25_16857">We use the same base URL for test and live accounts. You can create a test account from the <a href="https://www.payments.service.gov.uk/" id="9db19a25_16858" data-external="true" rel="noopener noreferrer">GOV.UK Pay homepage</a> and use it to test our API and your integration with it. You receive your live account when you <span id="9db19a25_16859">make your service live for your users</span>.</p><p id="9db19a25_16860">The API key you use determines which GOV.UK Pay service you use, and whether actions are treated as test payments, or processed as real payments. You can create test and live API keys through the GOV.UK Pay admin tool.</p><aside class="prompt" data-type="warning" data-title="" id="9db19a25_16861"><p id="9db19a25_16862">If you&rsquo;re testing our API, make sure you enter an API key from a test account to avoid creating real payments.</p></aside><p id="9db19a25_16863">The API is based on REST principles. It returns data in JSON format, and uses standard HTTP status codes.</p><p id="9db19a25_16864">You can read about how to <a href="https://docs.payments.service.gov.uk/quick_start_guide/#quick-start" id="9db19a25_16865" data-external="true" rel="noopener noreferrer">get started quickly with the GOV.UK Pay API</a>.</p><section class="chapter"><h2 id="endpoints" data-toc="endpoints">Endpoints</h2><section class="chapter"><h3 id="payments" data-toc="payments">Payments</h3><div class="table-wrapper"><table class="wide" id="9db19a25_16866"><thead><tr class="ijRowHead" id="9db19a25_16867"><th id="9db19a25_16868"><p>Endpoint</p></th><th id="9db19a25_16869"><p>URL</p></th><th id="9db19a25_16870"><p>Data consistency</p></th></tr></thead><tbody><tr id="9db19a25_16871"><td id="9db19a25_16872"><p><span id="9db19a25_16873">Create a payment</span></p></td><td id="9db19a25_16874"><p><code class="code" id="9db19a25_16875">POST /v1/payments</code></p></td><td id="9db19a25_16876"><p>Strongly consistent</p></td></tr><tr id="9db19a25_16877"><td id="9db19a25_16878"><p><span id="9db19a25_16879">Get information about a single payment</span></p></td><td id="9db19a25_16880"><p><code class="code" id="9db19a25_16881">GET /v1/payments/{PAYMENT_ID}</code></p></td><td id="9db19a25_16882"><p>Strongly consistent</p></td></tr><tr id="9db19a25_16883"><td id="9db19a25_16884"><p><span id="9db19a25_16885">Get a payment's events</span></p></td><td id="9db19a25_16886"><p><code class="code" id="9db19a25_16887">GET /v1/payments/{PAYMENT_ID}/events</code></p></td><td id="9db19a25_16888"><p>Strongly consistent</p></td></tr><tr id="9db19a25_16889"><td id="9db19a25_16890"><p><span id="9db19a25_16891">Cancel a payment</span></p></td><td id="9db19a25_16892"><p><code class="code" id="9db19a25_16893">POST /v1/payments/{PAYMENT_ID}/cancel</code></p></td><td id="9db19a25_16894"><p>Strongly consistent</p></td></tr><tr id="9db19a25_16895"><td id="9db19a25_16896"><p><span id="9db19a25_16897">Take ('capture') a delayed payment</span></p></td><td id="9db19a25_16898"><p><code class="code" id="9db19a25_16899">POST /v1/payments/{PAYMENT_ID}/capture</code></p></td><td id="9db19a25_16900"><p>Strongly consistent</p></td></tr><tr id="9db19a25_16901"><td id="9db19a25_16902"><p><span id="9db19a25_16903">Search payments</span></p></td><td id="9db19a25_16904"><p><code class="code" id="9db19a25_16905">GET /v1/payments</code></p></td><td id="9db19a25_16906"></td></tr></tbody></table></div></section><section class="chapter"><h3 id="refunds" data-toc="refunds">Refunds</h3><div class="table-wrapper"><table class="wide" id="9db19a25_16908"><thead><tr class="ijRowHead" id="9db19a25_16909"><th id="9db19a25_16910"><p>Endpoint</p></th><th id="9db19a25_16911"><p>URL</p></th><th id="9db19a25_16912"><p>Data consistency</p></th></tr></thead><tbody><tr id="9db19a25_16913"><td id="9db19a25_16914"><p><span id="9db19a25_16915">Refund a payment</span></p></td><td id="9db19a25_16916"><p><code class="code" id="9db19a25_16917">POST /v1/payments/{PAYMENT_ID}/refunds</code></p></td><td id="9db19a25_16918"></td></tr><tr id="9db19a25_16920"><td id="9db19a25_16921"><p><span id="9db19a25_16922">Get the status of a refund</span></p></td><td id="9db19a25_16923"><p><code class="code" id="9db19a25_16924">GET /v1/payments/{PAYMENT_ID}/refunds/{REFUND_ID}</code></p></td><td id="9db19a25_16925"></td></tr><tr id="9db19a25_16927"><td id="9db19a25_16928"><p><span id="9db19a25_16929">Get information about a payment's refunds</span></p></td><td id="9db19a25_16930"><p><code class="code" id="9db19a25_16931">GET /v1/payments/{PAYMENT_ID}/refunds</code></p></td><td id="9db19a25_16932"></td></tr><tr id="9db19a25_16934"><td id="9db19a25_16935"><p><span id="9db19a25_16936">Search refunds</span></p></td><td id="9db19a25_16937"><p><code class="code" id="9db19a25_16938">GET /v1/refunds</code></p></td><td id="9db19a25_16939"></td></tr></tbody></table></div></section><section class="chapter"><h3 id="agreements-for-recurring-payments" data-toc="agreements-for-recurring-payments">Agreements for recurring payments</h3><div class="table-wrapper"><table class="wide" id="9db19a25_16941"><thead><tr class="ijRowHead" id="9db19a25_16942"><th id="9db19a25_16943"><p>Endpoint</p></th><th id="9db19a25_16944"><p>URL</p></th><th id="9db19a25_16945"><p>Data consistency</p></th></tr></thead><tbody><tr id="9db19a25_16946"><td id="9db19a25_16947"><p><span id="9db19a25_16948">Create an agreement for recurring payments</span></p></td><td id="9db19a25_16949"><p><code class="code" id="9db19a25_16950">POST /v1/agreements</code></p></td><td id="9db19a25_16951"></td></tr><tr id="9db19a25_16953"><td id="9db19a25_16954"><p><span id="9db19a25_16955">Search agreements for recurring payments</span></p></td><td id="9db19a25_16956"><p><code class="code" id="9db19a25_16957">GET /v1/agreements</code></p></td><td id="9db19a25_16958"></td></tr><tr id="9db19a25_16960"><td id="9db19a25_16961"><p><span id="9db19a25_16962">Get information about a single agreement for recurring payments</span></p></td><td id="9db19a25_16963"><p> <code class="code" id="9db19a25_16965">GET /v1/agreements/{AGREEMENT_ID}</code></p></td><td id="9db19a25_16966"></td></tr><tr id="9db19a25_16968"><td id="9db19a25_16969"><p><span id="9db19a25_16970">Cancel an agreement for recurring payments</span></p></td><td id="9db19a25_16971"><p><code class="code" id="9db19a25_16972">POST /v1/agreements/{AGREEMENT_ID}/cancel</code></p></td><td id="9db19a25_16973"></td></tr></tbody></table></div></section><section class="chapter"><h3 id="disputes" data-toc="disputes">Disputes</h3><div class="table-wrapper"><table class="wide" id="9db19a25_16975"><thead><tr class="ijRowHead" id="9db19a25_16976"><th id="9db19a25_16977"><p>Endpoint</p></th><th id="9db19a25_16978"><p>URL</p></th><th id="9db19a25_16979"><p>Data consistency</p></th></tr></thead><tbody><tr id="9db19a25_16980"><td id="9db19a25_16981"><p><span id="9db19a25_16982">Search disputes</span></p></td><td id="9db19a25_16983"><p><code class="code" id="9db19a25_16984">GET /v1/disputes</code></p></td><td id="9db19a25_16985"></td></tr></tbody></table></div></section><section class="chapter"><h3 id="authorising-payments" data-toc="authorising-payments">Authorising payments</h3><div class="table-wrapper"><table class="wide" id="9db19a25_16987"><thead><tr class="ijRowHead" id="9db19a25_16988"><th id="9db19a25_16989"><p>Endpoint</p></th><th id="9db19a25_16990"><p>URL</p></th><th id="9db19a25_16991"><p>Data consistency</p></th></tr></thead><tbody><tr id="9db19a25_16992"><td id="9db19a25_16993"><p><span id="9db19a25_16994">Send card details to authorise a MOTO payment</span></p></td><td id="9db19a25_16995"><p><code class="code" id="9db19a25_16996">POST /v1/auth</code></p></td><td id="9db19a25_16997"></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="data-consistency" data-toc="data-consistency">Data consistency</h2><p id="9db19a25_16999">GOV.UK Pay API endpoints have different levels of data consistency. Endpoints are either:</p><ul class="list _ul" id="9db19a25_17000"><li class="list__item" id="9db19a25_17001"><p>eventually consistent or</p></li><li class="list__item" id="9db19a25_17002"><p>strongly consistent</p></li></ul><p id="9db19a25_17003">Data from eventually consistent endpoints is updated on a delay. You should not rely on eventually consistent endpoints for operations that require real-time data accuracy, such as checking the outcome of a payment at the end of a user journey.</p><p id="9db19a25_17004">Data from strongly consistent endpoints is updated immediately. If you perform a read operation on a strongly consistent endpoint immediately after a write operation, the data accurately reflects the outcome of the write operation. For example, if you check the status of a payment (<code class="code" id="9db19a25_17005">GET /v1/payments/{PAYMENT_ID}</code>) immediately after a user completes the payment, the data will show that the payment is complete.</p></section><section class="chapter"><h2 id="allowing-traffic-to-our-api" data-toc="allowing-traffic-to-our-api">Allowing traffic to our API</h2><p id="9db19a25_17006">If you&rsquo;re connecting to our API from a secure network, we recommend using <a href="http://www.squid-cache.org/" id="9db19a25_17007" data-external="true" rel="noopener noreferrer">a web proxy like Squid</a> to allow traffic to our base URL.</p><p id="9db19a25_17008">Do not add an allow list of IP addresses to your firewall, because GOV.UK Pay&rsquo;s IP addresses will change regularly. Read more about <a href="https://technology.blog.gov.uk/2017/01/03/a-whitelisting-approach-for-cloud-apis/" id="9db19a25_17009" data-external="true" rel="noopener noreferrer">why GOV.UK does not support allow lists of IP addresses</a>.</p></section><section class="chapter"><h2 id="authentication" data-toc="authentication">Authentication</h2><p id="9db19a25_17010">GOV.UK Pay authenticates API requests with <a href="http://tools.ietf.org/html/rfc6750" id="9db19a25_17011" data-external="true" rel="noopener noreferrer">OAuth2 HTTP bearer tokens</a>.</p><p id="9db19a25_17012">When you make an API requests, you need to use an <code class="code" id="9db19a25_17013">Authorization</code> HTTP header to provide your API key, with a <code class="code" id="9db19a25_17014">Bearer</code> prefix. For example:</p><div class="code-block" data-lang="plaintext">
Authorization: Bearer {YOUR_API_KEY}
</div></section><section class="chapter"><h2 id="rate-limits" data-toc="rate-limits">Rate limits</h2><p id="9db19a25_17016">Per second, you can make:</p><ul class="list _ul" id="9db19a25_17017"><li class="list__item" id="9db19a25_17018"><p>up to 15 <code class="code" id="9db19a25_17019">POST</code> requests to <span id="9db19a25_17020">create a payment</span></p></li><li class="list__item" id="9db19a25_17021"><p>up to 15 <code class="code" id="9db19a25_17022">POST</code>requests to <span id="9db19a25_17023">capture a delayed payment</span></p></li><li class="list__item" id="9db19a25_17024"><p>up to 15 other <code class="code" id="9db19a25_17025">POST</code> requests</p></li></ul><p id="9db19a25_17026"><code class="code" id="9db19a25_17027">GET</code> requests are also rate-limited, but at a very high level. In the future, we will publish an official rate limit for <code class="code" id="9db19a25_17028">GET</code> requests.</p><p id="9db19a25_17029">If you exceed the rate limit, this will return a <code class="code" id="9db19a25_17030">429</code> HTTP status code (Too many requests) and error code <code class="code" id="9db19a25_17031">P0900</code>. After a second, you&rsquo;ll be able to retry your attempt in a reasonable way. For example, using <a href="https://en.wikipedia.org/wiki/Exponential_backoff" id="9db19a25_17032" data-external="true" rel="noopener noreferrer">exponential backoff</a>.</p><p id="9db19a25_17033"><span id="9db19a25_17034">Contact us</span> if you would like to discuss rate limiting applied to your service account, or give us feedback.</p></section><section class="chapter"><h2 id="pagination" data-toc="pagination">Pagination</h2><p id="9db19a25_17035">Responses from search endpoints, such as <span id="9db19a25_17036">search payments</span> or <span id="9db19a25_17037">search refunds</span>, are split into pages. By default, these endpoints display 500 results per page and return the first page of results.</p><p id="9db19a25_17038">You can use query parameters to view different pages and control the number of results on each page.</p><div class="table-wrapper"><table class="wide" id="9db19a25_17039"><thead><tr class="ijRowHead" id="9db19a25_17040"><th id="9db19a25_17041"><p>Query parameter</p></th><th id="9db19a25_17042"><p>Description</p></th></tr></thead><tbody><tr id="9db19a25_17043"><td id="9db19a25_17044"><p><code class="code" id="9db19a25_17045">page</code></p></td><td id="9db19a25_17046"><p>Returns a specific page of results. </p><br><br><p> Defaults to <code class="code" id="9db19a25_17049">1</code>.</p></td></tr><tr id="9db19a25_17050"><td id="9db19a25_17051"><p><code class="code" id="9db19a25_17053">display_size</code></p></td><td id="9db19a25_17054"><p>The number of results returned per results page. </p><br><br><p> Defaults to <code class="code" id="9db19a25_17057">500</code>. Maximum value is <code class="code" id="9db19a25_17058">500</code>.</p></td></tr></tbody></table></div><section class="chapter"><h3 id="pagination-example" data-toc="pagination-example">Pagination example</h3><p id="9db19a25_17059">There are 74 payments in the <code class="code" id="9db19a25_17060">created</code> state. In this example search request, these 74 payments are split into 4 pages of results because <code class="code" id="9db19a25_17061">display_size</code> is <code class="code" id="9db19a25_17062">20</code>. This request returns payments 41-60 because <code class="code" id="9db19a25_17063">page</code> is <code class="code" id="9db19a25_17064">3</code>:</p><p id="9db19a25_17065"><code class="code" id="9db19a25_17066">GET /v1/payments?state=created&amp;display_size=20&amp;page=3</code></p></section><section class="chapter"><h3 id="pagination-links" data-toc="pagination-links">Pagination links</h3><p id="9db19a25_17067">Search endpoints also return a <code class="code" id="9db19a25_17068">_links</code> object, which includes <code class="code" id="9db19a25_17069">href</code> and <code class="code" id="9db19a25_17070">method</code> fields you can use to move between pages. Use the fields in:</p><ul class="list _ul" id="9db19a25_17071"><li class="list__item" id="9db19a25_17072"><p><code class="code" id="9db19a25_17073">self</code> to run the same search again</p></li><li class="list__item" id="9db19a25_17074"><p><code class="code" id="9db19a25_17075">first_page</code> to get the first page of results</p></li><li class="list__item" id="9db19a25_17076"><p><code class="code" id="9db19a25_17077">last_page</code> to get the last page</p></li><li class="list__item" id="9db19a25_17078"><p><code class="code" id="9db19a25_17079">prev_page</code> to get the previous page</p></li><li class="list__item" id="9db19a25_17080"><p><code class="code" id="9db19a25_17081">next_page</code> to get the next page</p></li></ul></section></section><section class="chapter"><h2 id="openapi-file" data-toc="openapi-file">OpenAPI file</h2><p id="9db19a25_17082">You can also generate a client library from <a href="https://github.com/alphagov/pay-publicapi/blob/master/openapi/publicapi_spec.json" id="9db19a25_17083" data-external="true" rel="noopener noreferrer">our OpenAPI file</a> using <a href="https://editor.swagger.io/" id="9db19a25_17084" data-external="true" rel="noopener noreferrer">Swagger Editor</a>. This may be an easier way for you to integrate your service with GOV.UK Pay than writing a client library from scratch. You cannot use Swagger Editor to make test API requests.</p></section><section class="chapter"><h2 id="responses" data-toc="responses">Responses</h2><p id="9db19a25_17085">The GOV.UK Pay API uses HTTP status codes to show the outcome of a request. <code class="code" id="9db19a25_17086">4xx</code> and <code class="code" id="9db19a25_17087">5xx</code> status codes give more detail in the <code class="code" id="9db19a25_17088">code</code> and <code class="code" id="9db19a25_17089">description</code> attributes of the response.</p><section class="chapter"><h3 id="http-status-codes" data-toc="http-status-codes">HTTP status codes</h3><div class="table-wrapper"><table class="wide" id="9db19a25_17090"><thead><tr class="ijRowHead" id="9db19a25_17091"><th id="9db19a25_17092"><p>HTTP status code</p></th><th id="9db19a25_17093"><p>Description</p></th></tr></thead><tbody><tr id="9db19a25_17094"><td id="9db19a25_17095"><p>200 - OK</p></td><td id="9db19a25_17096"><p>Your request was successful.</p></td></tr><tr id="9db19a25_17097"><td id="9db19a25_17098"><p>201 - Created</p></td><td id="9db19a25_17099"><p>You created a payment.</p></td></tr><tr id="9db19a25_17100"><td id="9db19a25_17101"><p>202 - Accepted</p></td><td id="9db19a25_17102"><p>Refund request accepted. The refund will reach the paying user soon.</p></td></tr><tr id="9db19a25_17103"><td id="9db19a25_17104"><p>204 - No content</p></td><td id="9db19a25_17105"><p>Your request was successful.</p></td></tr><tr id="9db19a25_17106"><td id="9db19a25_17107"><p>400 - Bad request</p></td><td id="9db19a25_17108"><p>Your request is invalid. </p><br><br><p> Check the <code class="code" id="9db19a25_17111">code</code> and <code class="code" id="9db19a25_17112">description</code> response attributes to find out why the request failed.</p></td></tr><tr id="9db19a25_17113"><td id="9db19a25_17114"><p>401 - Unauthorised</p></td><td id="9db19a25_17115"><p>Your API key is missing or invalid. </p><br><br><p><span id="9db19a25_17118">Read more about authenticating GOV.UK Pay API requests</span>.</p></td></tr><tr id="9db19a25_17119"><td id="9db19a25_17120"><p>404 - Not found</p></td><td id="9db19a25_17121"><p>The payment, refund, or agreement you tried to access does not exist. </p><br><br><p> Check the ID you sent in your request.</p></td></tr><tr id="9db19a25_17124"><td id="9db19a25_17125"><p>409 - Conflict</p></td><td id="9db19a25_17126"><p>The payment you tried to access has already been captured or cancelled, or you sent an <code class="code" id="9db19a25_17127">Idempotency-Key</code> that <span id="9db19a25_17128">has already been used</span>.</p></td></tr><tr id="9db19a25_17129"><td id="9db19a25_17130"><p>412 - Precondition failed</p></td><td id="9db19a25_17131"><p>The <code class="code" id="9db19a25_17132">refund_amount_available</code> value you sent does not match the amount available to refund. </p><br><br><p><span id="9db19a25_17135">Read more about refunding payments</span>.</p></td></tr><tr id="9db19a25_17136"><td id="9db19a25_17137"><p>422 - Unprocessable entity</p></td><td id="9db19a25_17138"><p>One of the values you sent is formatted incorrectly. This could be an invalid value, or a value that exceeds a character limit. </p><br><br><p> Check the <code class="code" id="9db19a25_17141">code</code>, <code class="code" id="9db19a25_17142">description</code>, and the <code class="code" id="9db19a25_17143">field</code> or <code class="code" id="9db19a25_17144">header</code> attributes in the response for more information.</p></td></tr><tr id="9db19a25_17145"><td id="9db19a25_17146"><p>429 - Too many requests</p></td><td id="9db19a25_17147"><p>You've made too many requests using your API key. </p><br><br><p><span id="9db19a25_17150">Read more about rate limits</span>.</p></td></tr><tr id="9db19a25_17151"><td id="9db19a25_17152"><p>Any 500 error - Internal server error</p></td><td id="9db19a25_17153"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17156" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17157">contact us with your error code</span> and we'll investigate.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="gov-uk-pay-api-error-codes" data-toc="gov-uk-pay-api-error-codes">GOV.UK Pay API error codes</h3><p id="9db19a25_17158">If your request fails, you&rsquo;ll also receive a response that contains <code class="code" id="9db19a25_17159">code</code>, <code class="code" id="9db19a25_17160">description</code>, and <code class="code" id="9db19a25_17161">field</code> attributes to help you find out why the request failed.</p><p id="9db19a25_17162">For example:</p><div class="code-block" data-lang="json">
{
  &quot;field&quot;: &quot;amount&quot;,
  &quot;code&quot;: &quot;P0102&quot;,
  &quot;description&quot;: &quot;Invalid attribute value: amount. Must be less than or equal to 10000000&quot;
}
</div><p id="9db19a25_17164">These error descriptions are intended for developers, not your users.</p><div class="table-wrapper"><table class="wide" id="9db19a25_17166"><thead><tr class="ijRowHead" id="9db19a25_17167"><th id="9db19a25_17168"><p>Error code</p></th><th id="9db19a25_17169"><p>Endpoint(s)</p></th><th id="9db19a25_17170"><p>Meaning</p></th></tr></thead><tbody><tr id="9db19a25_17171"><td id="9db19a25_17172"><p>P0101</p></td><td id="9db19a25_17173"><p>Create a payment</p><br><br><p> Send card details to authorise a MOTO payment</p></td><td id="9db19a25_17176"><p>The request you sent is missing a required parameter. </p><br><br><p> Check the <code class="code" id="9db19a25_17179">field</code> attribute in the response to see which parameter is missing.</p></td></tr><tr id="9db19a25_17180"><td id="9db19a25_17181"><p>P0102</p></td><td id="9db19a25_17182"><p>Create a payment</p><br><br><p> Send card details to authorise a MOTO payment</p></td><td id="9db19a25_17185"><p>A header or parameter value you sent in your request is invalid. </p><br><br><p> Check the <code class="code" id="9db19a25_17188">description</code> attribute in the response to find out which value is invalid.</p></td></tr><tr id="9db19a25_17189"><td id="9db19a25_17190"><p>P0104</p></td><td id="9db19a25_17191"><p>Create a payment</p></td><td id="9db19a25_17192"><p>You included <code class="code" id="9db19a25_17193">return_url</code> and <code class="code" id="9db19a25_17194">&quot;authorisation_mode&quot;: &quot;moto_api&quot;</code> in your request. These parameters cannot be used together. </p><br><br><p> Remove the <code class="code" id="9db19a25_17197">return_url</code> parameter to create <span id="9db19a25_17198">a Mail Order / Telephone Order (MOTO) payment that accepts card details sent through the API</span>. </p><br><br><p> Remove the <code class="code" id="9db19a25_17201">authorisation_mode</code> parameter to <span id="9db19a25_17202">create a standard payment</span>.</p></td></tr><tr id="9db19a25_17203"><td id="9db19a25_17204"><p>P0191</p></td><td id="9db19a25_17205"><p>Create a payment</p></td><td id="9db19a25_17206"><p>The <code class="code" id="9db19a25_17207">Idempotency-Key</code> you sent in the request header has already been used to create a payment.</p></td></tr><tr id="9db19a25_17208"><td id="9db19a25_17209"><p>P0195</p></td><td id="9db19a25_17210"><p>Create a payment</p></td><td id="9db19a25_17211"><p>You tried to create a Mail Order / Telephone Order (MOTO) payment that accepts card details sent through the API but this feature is not turned on for your service. </p><br><br><p> You can <span id="9db19a25_17214">read more about setting up your service to accept card details sent through the API</span>. </p><br><br><p> To create a standard payment, remove <code class="code" id="9db19a25_17217">&quot;authorisation_mode&quot;: &quot;moto_api&quot;</code> from your request.</p></td></tr><tr id="9db19a25_17218"><td id="9db19a25_17219"><p>P0196</p></td><td id="9db19a25_17220"><p>Create a payment</p></td><td id="9db19a25_17221"><p>You tried to create a type of payment that is not turned on for your service. </p><br><br><p> Contact us about <span id="9db19a25_17224">setting up your service for MOTO payments</span> or <span id="9db19a25_17225">recurring payments</span>.</p></td></tr><tr id="9db19a25_17226"><td id="9db19a25_17227"><p>P0197</p></td><td id="9db19a25_17228"><p>Create a payment</p></td><td id="9db19a25_17229"><p>The JSON you sent in the request body is invalid. </p><br><br><p> Check the formatting of the request body.</p></td></tr><tr id="9db19a25_17232"><td id="9db19a25_17233"><p>P0198</p></td><td id="9db19a25_17234"><p>Create a payment</p></td><td id="9db19a25_17235"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17238" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17239">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17240"><td id="9db19a25_17241"><p>P0199</p></td><td id="9db19a25_17242"><p>Create a payment</p></td><td id="9db19a25_17243"><p>There's a problem with your service account. </p><br><br><p><span id="9db19a25_17246">Contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17247"><td id="9db19a25_17248"><p>P0200</p></td><td id="9db19a25_17249"><p>Get information about a single payment</p></td><td id="9db19a25_17250"><p>No payment matched the <code class="code" id="9db19a25_17251">{PAYMENT_ID}</code> you provided. </p><br><br><p> Check the <code class="code" id="9db19a25_17254">{PAYMENT_ID}</code> parameter you sent.</p></td></tr><tr id="9db19a25_17255"><td id="9db19a25_17256"><p>P0298</p></td><td id="9db19a25_17257"><p>Get information about a single payment</p></td><td id="9db19a25_17258"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17261" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17262">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17263"><td id="9db19a25_17264"><p>P0300</p></td><td id="9db19a25_17265"><p>Get a payment&rsquo;s events</p></td><td id="9db19a25_17266"><p>No payment matched the <code class="code" id="9db19a25_17267">{PAYMENT_ID}</code> you provided. </p><br><br><p> Check the <code class="code" id="9db19a25_17270">{PAYMENT_ID}</code> parameter you sent.</p></td></tr><tr id="9db19a25_17271"><td id="9db19a25_17272"><p>P0398</p></td><td id="9db19a25_17273"><p>Get a payment&rsquo;s events</p></td><td id="9db19a25_17274"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17277" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17278">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17279"><td id="9db19a25_17280"><p>P0401</p></td><td id="9db19a25_17281"><p>Search payments</p></td><td id="9db19a25_17282"><p>The value of a parameter you sent is invalid. </p><br><br><p> Check the parameters listed in the <code class="code" id="9db19a25_17285">description</code> response attribute.</p></td></tr><tr id="9db19a25_17286"><td id="9db19a25_17287"><p>P0402</p></td><td id="9db19a25_17288"><p>Search payments</p></td><td id="9db19a25_17289"><p>The requested page of search results does not exist.</p></td></tr><tr id="9db19a25_17290"><td id="9db19a25_17291"><p>P0498</p></td><td id="9db19a25_17292"><p>Search payments</p></td><td id="9db19a25_17293"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17296" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17297">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17298"><td id="9db19a25_17299"><p>P0500</p></td><td id="9db19a25_17300"><p>Cancel a payment</p></td><td id="9db19a25_17301"><p>No payment matched the <code class="code" id="9db19a25_17302">{PAYMENT_ID}</code> you provided. </p><br><br><p> Check the <code class="code" id="9db19a25_17305">{PAYMENT_ID}</code> parameter you sent.</p></td></tr><tr id="9db19a25_17306"><td id="9db19a25_17307"><p>P0501</p></td><td id="9db19a25_17308"><p>Cancel a payment</p></td><td id="9db19a25_17309"><p>Cancelling the payment failed. This could be because this payment does not have a <code class="code" id="9db19a25_17310">cancel</code> attribute and so cannot be cancelled. </p><br><br><p> Read our <span id="9db19a25_17313">guidance on checking if you can cancel a payment</span>. </p><br><br><p> If you think you should be able to cancel a payment but you're still receiving this error, <span id="9db19a25_17316">contact us</span>.</p></td></tr><tr id="9db19a25_17317"><td id="9db19a25_17318"><p>P0502</p></td><td id="9db19a25_17319"><p>Cancel a payment</p></td><td id="9db19a25_17320"><p>This payment cannot be cancelled. You can only cancel a payment if it has a <code class="code" id="9db19a25_17321">cancel</code> attribute when you check if you can cancel it. </p><br><br><p> There&rsquo;s further <span id="9db19a25_17324">guidance on checking if you can cancel a payment</span>.</p></td></tr><tr id="9db19a25_17325"><td id="9db19a25_17326"><p>P0598</p></td><td id="9db19a25_17327"><p>Cancel a payment</p></td><td id="9db19a25_17328"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17331" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17332">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17333"><td id="9db19a25_17334"><p>P0600</p></td><td id="9db19a25_17335"><p>Refund a payment</p></td><td id="9db19a25_17336"><p>No payment matched the <code class="code" id="9db19a25_17337">{PAYMENT_ID}</code> you provided. </p><br><br><p> Check the <code class="code" id="9db19a25_17340">{PAYMENT_ID}</code> parameter you sent.</p></td></tr><tr id="9db19a25_17341"><td id="9db19a25_17342"><p>P0601</p></td><td id="9db19a25_17343"><p>Refund a payment</p></td><td id="9db19a25_17344"><p>Your request is missing a required attribute. </p><br><br><p> You must submit <code class="code" id="9db19a25_17347">amount</code> and <code class="code" id="9db19a25_17348">refund_amount_available</code> values in the body of your request.</p></td></tr><tr id="9db19a25_17349"><td id="9db19a25_17350"><p>P0602</p></td><td id="9db19a25_17351"><p>Refund a payment</p></td><td id="9db19a25_17352"><p>The value of an attribute you sent is invalid. </p><br><br><p> Check the <code class="code" id="9db19a25_17355">amount</code> and <code class="code" id="9db19a25_17356">refund_amount_available</code> values you sent.</p></td></tr><tr id="9db19a25_17357"><td id="9db19a25_17358"><p>P0603</p></td><td id="9db19a25_17359"><p>Refund a payment</p></td><td id="9db19a25_17360"><p>This payment cannot be refunded. </p><br><br><p> You can <span id="9db19a25_17363">read more about checking if you can refund a payment</span>.</p></td></tr><tr id="9db19a25_17364"><td id="9db19a25_17365"><p>P0604</p></td><td id="9db19a25_17366"><p>Refund a payment</p></td><td id="9db19a25_17367"><p>The <code class="code" id="9db19a25_17368">refund_amount_available</code> value you sent does not match the amount available to refund. </p><br><br><p><code class="code" id="9db19a25_17371">refund_amount_available</code> must match the <code class="code" id="9db19a25_17372">amount_available</code> value you receive when checking if you can refund a payment. </p><br><br><p><span id="9db19a25_17375">Read more about checking if you can refund a payment</span>.</p></td></tr><tr id="9db19a25_17376"><td id="9db19a25_17377"><p>P0697</p></td><td id="9db19a25_17378"><p>Refund a payment</p></td><td id="9db19a25_17379"><p>The JSON you sent in the request body is invalid. </p><br><br><p> Check the formatting of the request body.</p></td></tr><tr id="9db19a25_17382"><td id="9db19a25_17383"><p>P0698</p></td><td id="9db19a25_17384"><p>Refund a payment</p></td><td id="9db19a25_17385"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17388" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17389">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17390"><td id="9db19a25_17391"><p>P0700</p></td><td id="9db19a25_17392"><p>Check the status of a refund</p></td><td id="9db19a25_17393"><p>Either no refund matched the <code class="code" id="9db19a25_17394">{REFUND_ID}</code> you sent, or no payment matched the <code class="code" id="9db19a25_17395">{PAYMENT_ID}</code> you sent. </p><br><br><p> Check the <code class="code" id="9db19a25_17398">{REFUND_ID}</code> and <code class="code" id="9db19a25_17399">{PAYMENT_ID}</code> parameters you sent.</p></td></tr><tr id="9db19a25_17400"><td id="9db19a25_17401"><p>P0798</p></td><td id="9db19a25_17402"><p>Check the status of a refund</p></td><td id="9db19a25_17403"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17406" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17407">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17408"><td id="9db19a25_17409"><p>P0800</p></td><td id="9db19a25_17410"><p>Get information about a payment&rsquo;s refunds</p></td><td id="9db19a25_17411"><p>No payment matched the <code class="code" id="9db19a25_17412">{PAYMENT_ID}</code> you sent. </p><br><br><p> Check the <code class="code" id="9db19a25_17415">{PAYMENT_ID}</code> parameter you sent.</p></td></tr><tr id="9db19a25_17416"><td id="9db19a25_17417"><p>P0898</p></td><td id="9db19a25_17418"><p>Get information about a payment&rsquo;s refunds</p></td><td id="9db19a25_17419"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17422" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17423">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17424"><td id="9db19a25_17425"><p>P0900</p></td><td id="9db19a25_17426"><p>All endpoints</p></td><td id="9db19a25_17427"><p>You've made too many requests too quickly using your API key. </p><br><br><p> You can <span id="9db19a25_17430">read more about rate limits</span>.</p></td></tr><tr id="9db19a25_17431"><td id="9db19a25_17432"><p>P0920</p></td><td id="9db19a25_17433"><p>All endpoints</p></td><td id="9db19a25_17434"><p>Our firewall blocked your request. </p><br><br><p> To fix a <code class="code" id="9db19a25_17437">P0920</code> API error, make sure your API request: </p><br><br><li class="list__item" id="9db19a25_17440"></li><p> has a <code class="code" id="9db19a25_17441">Content-Type: application/json</code> header</p><li class="list__item" id="9db19a25_17442"></li><p> uses <code class="code" id="9db19a25_17443">application/json</code> in the <code class="code" id="9db19a25_17444">Accept</code> header if you&rsquo;re using an <code class="code" id="9db19a25_17445">Accept</code> header</p><li class="list__item" id="9db19a25_17446"></li><p> uses <code class="code" id="9db19a25_17447">https</code> in the <code class="code" id="9db19a25_17448">return_url</code>, not <code class="code" id="9db19a25_17449">http</code></p><li class="list__item" id="9db19a25_17450"></li><p> does not use invalid characters like <code class="code" id="9db19a25_17451">&lt;</code>, <code class="code" id="9db19a25_17452">&gt;</code>, <code class="code" id="9db19a25_17453">&quot;</code>, <code class="code" id="9db19a25_17454">\</code>, or <code class="code" id="9db19a25_17455">|</code></p><li class="list__item" id="9db19a25_17456"></li><p> does not have an empty request body if you&rsquo;re making a <code class="code" id="9db19a25_17457">POST</code> request</p></td></tr><tr id="9db19a25_17458"><td id="9db19a25_17459"><p>P0940</p></td><td id="9db19a25_17460"><p>All endpoints</p></td><td id="9db19a25_17461"><p>Your payment service provider (PSP) account is not fully configured. </p><br><br><p> You can <span id="9db19a25_17464">read our Go live documentation to configure your PSP account</span>.</p></td></tr><tr id="9db19a25_17465"><td id="9db19a25_17466"><p>P0941</p></td><td id="9db19a25_17467"><p>Multiple endpoints</p></td><td id="9db19a25_17468"><p>GOV.UK Pay has turned off payment and refund creation on this account. </p><br><br><p> This error can have multiple causes. </p><br><br><p> <span id="9db19a25_17473">Contact us with your error code</span>.</p></td></tr><tr id="9db19a25_17474"><td id="9db19a25_17475"><p>P0942</p></td><td id="9db19a25_17476"><p>Multiple endpoints</p></td><td id="9db19a25_17477"><p>Recurring card payments are currently turned off for this service. </p><br><br><p><a href="https://www.payments.service.gov.uk/support/" id="9db19a25_17480" data-external="true" rel="noopener noreferrer">Contact us with your error code.</a></p></td></tr><tr id="9db19a25_17481"><td id="9db19a25_17482"><p>P0999</p></td><td id="9db19a25_17483"><p>All endpoints</p></td><td id="9db19a25_17484"><p>GOV.UK Pay is temporarily down. </p><br><br><p> Check <a href="https://payments.statuspage.io" id="9db19a25_17487" data-external="true" rel="noopener noreferrer">our status page</a> for more information.</p></td></tr><tr id="9db19a25_17488"><td id="9db19a25_17489"><p>P1000</p></td><td id="9db19a25_17490"><p>Capture a delayed payment</p></td><td id="9db19a25_17491"><p>No payment matched the <code class="code" id="9db19a25_17492">{PAYMENT_ID}</code> you provided. </p><br><br><p> Check the <code class="code" id="9db19a25_17495">{PAYMENT_ID}</code> parameter you sent.</p></td></tr><tr id="9db19a25_17496"><td id="9db19a25_17497"><p>P1001</p></td><td id="9db19a25_17498"><p>Capture a delayed payment</p></td><td id="9db19a25_17499"><p>GOV.UK Pay could not capture this payment. </p><br><br><p><span id="9db19a25_17502">Contact us with your error code</span>.</p></td></tr><tr id="9db19a25_17503"><td id="9db19a25_17504"><p>P1003</p></td><td id="9db19a25_17505"><p>Capture a delayed payment</p></td><td id="9db19a25_17506"><p>GOV.UK Pay could not capture this payment. The <code class="code" id="9db19a25_17507">status</code> of the payment must be <code class="code" id="9db19a25_17508">capturable</code>. </p><br><br><p> To check this, <span id="9db19a25_17511">run <code class="code" id="9db19a25_17512">GET /v1/payments/{PAYMENT_ID}</code></span>.</p></td></tr><tr id="9db19a25_17513"><td id="9db19a25_17514"><p>P1098</p></td><td id="9db19a25_17515"><p>Capture a delayed payment</p></td><td id="9db19a25_17516"><p>There's something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io" id="9db19a25_17519" data-external="true" rel="noopener noreferrer">our status page</a>, you can <span id="9db19a25_17520">contact us with your error code</span> and we'll investigate.</p></td></tr><tr id="9db19a25_17521"><td id="9db19a25_17522"><p>P1101</p></td><td id="9db19a25_17523"><p>Search refunds</p></td><td id="9db19a25_17524"><p>The value of a parameter you sent is invalid. </p><br><p> Check the parameters listed in the <code class="code" id="9db19a25_17527">description</code> response attribute.</p></td></tr><tr id="9db19a25_17528"><td id="9db19a25_17529"><p>P1100</p></td><td id="9db19a25_17530"><p>Search refunds</p></td><td id="9db19a25_17531"><p>The requested page of search results does not exist.</p></td></tr><tr id="9db19a25_17532"><td id="9db19a25_17533"><p>P1211</p></td><td id="9db19a25_17534"><p>Send card details to authorise a MOTO payment</p></td><td id="9db19a25_17535"><p>No payment matches the <code class="code" id="9db19a25_17536">one_time_token</code> you sent. </p><br><br><p> Check the <code class="code" id="9db19a25_17539">one_time_token</code> parameter you sent.</p></td></tr><tr id="9db19a25_17540"><td id="9db19a25_17541"><p>P1212</p></td><td id="9db19a25_17542"><p>Send card details to authorise a MOTO payment</p></td><td id="9db19a25_17543"><p>The <code class="code" id="9db19a25_17544">one_time_token</code> you sent has already been used. </p><br><br><p> You can only use a <code class="code" id="9db19a25_17547">one_time_token</code> once. </p><br><br><p> Create a new payment to get a new <code class="code" id="9db19a25_17550">one_time_token</code>. <span id="9db19a25_17551">Read more about creating and authorising MOTO payments by sending card details through the API</span>.</p></td></tr><tr id="9db19a25_17552"><td id="9db19a25_17553"><p>P2101</p></td><td id="9db19a25_17554"><p>Create an agreement for recurring payments</p></td><td id="9db19a25_17555"><p>The request you sent is missing a required parameter. </p><br><br><p> Check the <code class="code" id="9db19a25_17558">field</code> attribute in the response to see which parameter is missing.</p></td></tr><tr id="9db19a25_17559"><td id="9db19a25_17560"><p>P2102</p></td><td id="9db19a25_17561"><p>Create an agreement for recurring payments</p></td><td id="9db19a25_17562"><p>The value of a parameter you sent is invalid. </p><br><br><p> Check the response to see which value in invalid.</p></td></tr><tr id="9db19a25_17565"><td id="9db19a25_17566"><p>P2197</p></td><td id="9db19a25_17567"><p>Create an agreement for recurring payments</p></td><td id="9db19a25_17568"><p>The JSON you sent in the request body is invalid. </p><br><br><p> Check the formatting of the request body.</p></td></tr><tr id="9db19a25_17571"><td id="9db19a25_17572"><p>P2198</p></td><td id="9db19a25_17573"><p>Create an agreement for recurring payments</p></td><td id="9db19a25_17574"><p>There&rsquo;s something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io/" id="9db19a25_17577" data-external="true" rel="noopener noreferrer">our status page</a>, you can <a href="https://docs.payments.service.gov.uk/support_contact_and_more_information/" id="9db19a25_17578" data-external="true" rel="noopener noreferrer">contact us with your error code</a> and we&rsquo;ll investigate.</p></td></tr><tr id="9db19a25_17579"><td id="9db19a25_17580"><p>P2200</p></td><td id="9db19a25_17581"><p>Get information about a single agreement for recurring payments</p></td><td id="9db19a25_17582"><p>No agreement matched the <code class="code" id="9db19a25_17583">{AGREEMENT_ID}</code> you sent. </p><br><br><p> Check your <code class="code" id="9db19a25_17586">{AGREEMENT_ID}</code> parameter.</p></td></tr><tr id="9db19a25_17587"><td id="9db19a25_17588"><p>P2298</p></td><td id="9db19a25_17589"><p>Get information about a single agreement for recurring payments</p></td><td id="9db19a25_17590"><p>There&rsquo;s something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io/" id="9db19a25_17593" data-external="true" rel="noopener noreferrer">our status page</a>, you can <a href="https://docs.payments.service.gov.uk/support_contact_and_more_information/" id="9db19a25_17594" data-external="true" rel="noopener noreferrer">contact us with your error code</a> and we&rsquo;ll investigate.</p></td></tr><tr id="9db19a25_17595"><td id="9db19a25_17596"><p>P2401</p></td><td id="9db19a25_17597"><p>Search agreements for recurring payments</p></td><td id="9db19a25_17598"><p>The value of a parameter you sent is invalid. </p><br><br><p> Check the parameters listed in the <code class="code" id="9db19a25_17601">description</code> response attribute.</p></td></tr><tr id="9db19a25_17602"><td id="9db19a25_17603"><p>P2402</p></td><td id="9db19a25_17604"><p>Search agreements for recurring payments</p></td><td id="9db19a25_17605"><p>The requested page of search results does not exist.</p></td></tr><tr id="9db19a25_17606"><td id="9db19a25_17607"><p>P2498</p></td><td id="9db19a25_17608"><p>Search agreements for recurring payments</p></td><td id="9db19a25_17609"><p>There&rsquo;s something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io/" id="9db19a25_17612" data-external="true" rel="noopener noreferrer">our status page</a>, you can <a href="https://docs.payments.service.gov.uk/support_contact_and_more_information/" id="9db19a25_17613" data-external="true" rel="noopener noreferrer">contact us with your error code</a> and we&rsquo;ll investigate.</p></td></tr><tr id="9db19a25_17614"><td id="9db19a25_17615"><p>P2500</p></td><td id="9db19a25_17616"><p>Cancel an agreement for recurring payments</p></td><td id="9db19a25_17617"><p>No agreement matched the <code class="code" id="9db19a25_17618">{AGREEMENT_ID}</code> you sent. </p><br><br><p> Check your <code class="code" id="9db19a25_17621">{AGREEMENT_ID}</code> parameter.</p></td></tr><tr id="9db19a25_17622"><td id="9db19a25_17623"><p>P2501</p></td><td id="9db19a25_17624"><p>Cancel an agreement for recurring payments</p></td><td id="9db19a25_17625"><p>This agreement cannot be cancelled. You can only cancel agreements in the <code class="code" id="9db19a25_17626">active</code> status. </p><br><br><p> You can read more about <span id="9db19a25_17629">the agreement status lifecycle</span> or the <span id="9db19a25_17630">API reference for getting information about an agreement</span>.</p></td></tr><tr id="9db19a25_17631"><td id="9db19a25_17632"><p>P2598</p></td><td id="9db19a25_17633"><p>Cancel an agreement for recurring payments</p></td><td id="9db19a25_17634"><p>There&rsquo;s something wrong with GOV.UK Pay. </p><br><br><p> If there are no problems on <a href="https://payments.statuspage.io/" id="9db19a25_17637" data-external="true" rel="noopener noreferrer">our status page</a>, you can <a href="https://docs.payments.service.gov.uk/support_contact_and_more_information/" id="9db19a25_17638" data-external="true" rel="noopener noreferrer">contact us with your error code</a> and we&rsquo;ll investigate.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="errors-caused-by-payment-statuses" data-toc="errors-caused-by-payment-statuses">Errors caused by payment statuses</h3><p id="9db19a25_17640">Failed payments return a <code class="code" id="9db19a25_17641">code</code> value in the <code class="code" id="9db19a25_17642">state</code> object when you use the API to get information about that payment. These error codes explain why the payment failed.</p><div class="table-wrapper"><table class="wide" id="9db19a25_17643"><thead><tr class="ijRowHead" id="9db19a25_17644"><th id="9db19a25_17645"><p>Error code</p></th><th id="9db19a25_17646"><p>Meaning</p></th><th id="9db19a25_17647"><p>Cause</p></th></tr></thead><tbody><tr id="9db19a25_17648"><td id="9db19a25_17649"><p>P0010</p></td><td id="9db19a25_17650"><p>Payment method rejected</p></td><td id="9db19a25_17651"><p>The payment was rejected due to the payment method selected or the payment information entered by the user. </p><br><br><p> For example, the user may have failed a fraud check, a 3D Secure authentication check, or they may not have sufficient funds in their account.</p></td></tr><tr id="9db19a25_17654"><td id="9db19a25_17655"><p>P0020</p></td><td id="9db19a25_17656"><p>Payment expired</p></td><td id="9db19a25_17657"><p>The payment timed out because the paying user did not confirm and complete the payment within 90 minutes of the payment being created. </p><br><br><p> If the paying user's bank already authorised the payment, GOV.UK Pay will automatically send a cancellation to the payment service provider.</p></td></tr><tr id="9db19a25_17660"><td id="9db19a25_17661"><p>P0030</p></td><td id="9db19a25_17662"><p>Payment cancelled by your user</p></td><td id="9db19a25_17663"><p>The paying user selected <span class="control" id="9db19a25_17664">Cancel payment</span> during the payment journey. </p><br><br><p> If the paying user's bank already authorised the payment, GOV.UK Pay will automatically send a cancellation to the payment service provider.</p></td></tr><tr id="9db19a25_17667"><td id="9db19a25_17668"><p>P0040</p></td><td id="9db19a25_17669"><p>Payment was cancelled by your service</p></td><td id="9db19a25_17670"><p>Your service cancelled the payment. </p><br><br><p> You can <span id="9db19a25_17673">read more about cancelling payments</span>.</p></td></tr><tr id="9db19a25_17674"><td id="9db19a25_17675"><p>P0050</p></td><td id="9db19a25_17676"><p>Payment provider returned an error</p></td><td id="9db19a25_17677"><p>This error has multiple possible causes. For example, a configuration problem with the payment service provider, or incorrect credentials. </p><br><br><p><span id="9db19a25_17680">Contact us with your error code</span> and we'll investigate.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="payment-status-lifecycle" data-toc="payment-status-lifecycle">Payment status lifecycle</h2><p id="9db19a25_17681">You can <span id="9db19a25_17682">get information about a payment</span> using the API and see where the payment is in the payment status lifecycle. You can see this in the <code class="code" id="9db19a25_17683">state</code> object in the response.</p><p id="9db19a25_17684">For example:</p><div class="code-block" data-lang="json">
{
  &quot;amount&quot;: 2000,
  &quot;state&quot;: {
      &quot;status&quot;: &quot;failed&quot;,
      &quot;finished&quot;: true,
      &quot;message&quot;: &quot;Payment expired&quot;,
      &quot;code&quot;: &quot;P0020&quot;
  }
  ...
}
</div><section class="chapter"><h3 id="payment-status-meanings" data-toc="payment-status-meanings">Payment status meanings</h3><p id="9db19a25_17686">The <code class="code" id="9db19a25_17687">status</code> value indicates where the payment is in the payment status lifecycle.</p><p id="9db19a25_17688"><code class="code" id="9db19a25_17689">finished</code> indicates whether the payment journey is finished. A <code class="code" id="9db19a25_17690">finished</code> payment journey does not always mean the user has made a payment. For example, a user may submit their payment details but their bank rejects the payment - the payment journey is <code class="code" id="9db19a25_17691">finished</code> but no payment has actually been made.</p><div class="table-wrapper"><table class="wide" id="9db19a25_17692"><thead><tr class="ijRowHead" id="9db19a25_17693"><th id="9db19a25_17694"><p><code class="code" id="9db19a25_17695">status</code></p></th><th id="9db19a25_17696"><p>Meaning</p></th><th id="9db19a25_17697"></th></tr></thead><tbody><tr id="9db19a25_17700"><td id="9db19a25_17701"></td><td id="9db19a25_17704"><p>Payment created using the API. Your user has not yet visited <code class="code" id="9db19a25_17705">next_url</code>.</p></td><td id="9db19a25_17706"></td></tr><tr id="9db19a25_17709"><td id="9db19a25_17710"></td><td id="9db19a25_17713"><p>Your user has visited <code class="code" id="9db19a25_17714">next_url</code> and is entering their payment details.</p></td><td id="9db19a25_17715"></td></tr><tr id="9db19a25_17718"><td id="9db19a25_17719"></td><td id="9db19a25_17722"><p>Your user submitted payment details and went through authentication, if it was required. </p><br><br><p> The payment service provider has authorised the payment, but the user has not yet selected <span class="control" id="9db19a25_17725">Confirm</span>.</p></td><td id="9db19a25_17726"></td></tr><tr id="9db19a25_17729"><td id="9db19a25_17730"></td><td id="9db19a25_17733"><p>The payment is a delayed capture and your user has submitted their payment details and selected <span class="control" id="9db19a25_17734">Confirm</span>. </p><br><br><p> You can <a href="https://docs.payments.service.gov.uk/delayed_capture/#delay-taking-a-payment" id="9db19a25_17737" data-external="true" rel="noopener noreferrer">read more about how to capture this payment</a>.</p></td><td id="9db19a25_17738"></td></tr><tr id="9db19a25_17741"><td id="9db19a25_17742"></td><td id="9db19a25_17745"><p>Your user successfully completed the payment by selecting <span class="control" id="9db19a25_17746">Confirm</span>. </p><br><br><p> We redirected your user to a payment confirmation page.</p></td><td id="9db19a25_17749"></td></tr><tr id="9db19a25_17752"><td id="9db19a25_17753"></td><td id="9db19a25_17756"><p>The payment failed. This failure could be because the payment timed out after 90 minutes, the user's payment method was rejected, or your user cancelled the payment. </p><br><br><p> We showed the user a failure screen. </p><br><br><p> Check the <span id="9db19a25_17761">payment status error codes</span> for the possible reasons for a <code class="code" id="9db19a25_17762">failed</code> payment.</p></td><td id="9db19a25_17763"></td></tr><tr id="9db19a25_17766"><td id="9db19a25_17767"></td><td id="9db19a25_17770"><p>Your service cancelled the payment using an API request or the GOV.UK Pay admin tool. </p><br><br><p> You can <a href="https://docs.payments.service.gov.uk/making_payments/#cancel-a-payment-that-s-in-progress" id="9db19a25_17773" data-external="true" rel="noopener noreferrer">read more about how to cancel payments.</a></p></td><td id="9db19a25_17774"></td></tr><tr id="9db19a25_17777"><td id="9db19a25_17778"></td><td id="9db19a25_17781"><p>Something went wrong with GOV.UK Pay or the payment service provider. The payment failed safely with no money taken from the user. </p><br><br><p> We showed the paying user a screen stating &rdquo; <span class="control" id="9db19a25_17784">We&rsquo;re experiencing technical problems. No money has been taken from your account. Cancel and go back to try the payment again.</span>&rdquo;</p></td><td id="9db19a25_17785"></td></tr></tbody></table></div><p id="9db19a25_17788">If something went wrong with a payment, the <code class="code" id="9db19a25_17789">code</code> and <code class="code" id="9db19a25_17790">message</code> attributes in the API response can help you find out what happened.</p><p id="9db19a25_17791"><code class="code" id="9db19a25_17792">code</code> is <span id="9db19a25_17793">an API error code</span>.</p><p id="9db19a25_17794"><code class="code" id="9db19a25_17795">message</code> is a description of what went wrong.</p></section></section><section class="chapter"><h2 id="api-versioning" data-toc="api-versioning">API versioning</h2><p id="9db19a25_17796">We work hard to make our API updates backwards compatible and avoid breaking changes.</p><p id="9db19a25_17797">When we add new properties to the JSON responses, the GOV.UK Pay API version number will not change. You should develop your service to ignore properties it does not understand.</p><p id="9db19a25_17798"><a href="https://docs.payments.service.gov.uk/versioning/" id="9db19a25_17799" data-external="true" rel="noopener noreferrer">Read more about staying up to date with GOV.UK Pay API updates</a>.</p><section class="chapter"><h3 id="9db19a25_17800" data-toc="9db19a25_17800">Search agreements for recurring payments</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/agreements"><span>/v1/agreements</span></copier></div><p id="9db19a25_17802">You can use this endpoint to search for recurring payments agreements. The agreements are sorted by date, with the most recently-created agreements appearing first.</p><section class="chapter"><h4 id="9db19a25_17803" data-toc="9db19a25_17803">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17805" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Query","contents":[{"id":"api_doc_1","name":"reference","description":"Returns agreements with a `reference` that exactly matches the value you sent. This parameter is not case sensitive. A `reference` was associated with the agreement when that agreement was created.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_6","name":"status","description":"Returns agreements in a matching `status`. `status` reflects where an agreement is in its lifecycle. You can [read more about the meanings of the different agreement status values](https://docs.payments.service.gov.uk/recurring_payments/#understanding-agreement-status).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_2","name":"created","typeKind":"PRIMITIVE"},{"id":"api_doc_3","name":"active","typeKind":"PRIMITIVE"},{"id":"api_doc_4","name":"cancelled","typeKind":"PRIMITIVE"},{"id":"api_doc_5","name":"inactive","typeKind":"PRIMITIVE"}]},{"id":"api_doc_7","name":"page","description":"Returns a specific page of results. Defaults to `1`. You can [read about search pagination](https://docs.payments.service.gov.uk/api_reference/#pagination)","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"display_size","description":"The number of agreements returned per results page. Defaults to `500`. Maximum value is `500`. You can [read about search pagination](https://docs.payments.service.gov.uk/api_reference/#pagination)","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17806" data-toc="9db19a25_17806">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17807" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_55","name":"application/json","typeName":"AgreementSearchResults","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_16","name":"_links","typeName":"SearchNavigationLinks","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_3","name":"first_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_6","name":"last_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_9","name":"next_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_7","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_12","name":"prev_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_10","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_15","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_13","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_14","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_17","name":"count","description":"Number of agreements on the current page of search results.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_18","name":"page","description":"The [page of agreements you’re viewing](https://docs.payments.service.gov.uk/api_reference/#pagination). To view other pages, make this request again using the `page` parameter.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_53","name":"results","description":"Contains agreements matching your search criteria.","typeName":"Array of Agreement","typeKind":"ARRAY","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_19","name":"agreement_id","description":"The unique ID GOV.UK Pay automatically associated with this agreement when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"cancelled_date","description":"The date and time this agreement was cancelled. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_21","name":"created_date","description":"The date and time you created this agreement. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_22","name":"description","description":"The description you sent when creating this agreement.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_45","name":"payment_instrument","typeName":"PaymentInstrument","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_41","name":"CardDetails","typeName":"CardDetails","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_28","name":"billing_address","typeName":"Address","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_23","name":"city","description":"The paying user\u0027s city.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_24","name":"country","description":"The paying user’s country, displayed as a 2-character ISO-3166-1-alpha-2 code.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_25","name":"line1","description":"The first line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_26","name":"line2","description":"The second line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_27","name":"postcode","description":"The paying user\u0027s postcode.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_29","name":"card_brand","description":"The brand of card the user paid with.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_33","name":"card_type","description":"The type of card the user paid with.`null` means your user paid with Google Pay or we did not recognise which type of card they paid with.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_30","name":"debit","typeKind":"PRIMITIVE"},{"id":"api_doc_31","name":"credit","typeKind":"PRIMITIVE"},{"id":"api_doc_32","name":"null","typeKind":"PRIMITIVE"}]},{"id":"api_doc_34","name":"cardholder_name","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_35","name":"expiry_date","description":"The expiry date of the card the user paid with in `MM/YY` format.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_36","name":"first_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_37","name":"last_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_40","name":"wallet_type","description":"The digital wallet type that the user paid with","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_38","name":"Apple Pay","typeKind":"PRIMITIVE"},{"id":"api_doc_39","name":"Google Pay","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_42","name":"created_date","description":"The date and time you created this payment instrument. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_44","name":"type","description":"The type of payment instrument.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_43","name":"card","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_46","name":"reference","description":"The reference you sent when creating this agreement.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_51","name":"status","description":"The status of this agreement. You can [read more about the meanings of each agreement status.](https://docs.payments.service.gov.uk/recurring_payments/#understanding-agreement-status)","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_47","name":"created","typeKind":"PRIMITIVE"},{"id":"api_doc_48","name":"active","typeKind":"PRIMITIVE"},{"id":"api_doc_49","name":"cancelled","typeKind":"PRIMITIVE"},{"id":"api_doc_50","name":"inactive","typeKind":"PRIMITIVE"}]},{"id":"api_doc_52","name":"user_identifier","description":"The identifier you sent when creating this agreement. `user_identifier` helps you identify users in your records.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_54","name":"total","description":"Total number of agreements matching your search criteria.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"422","statusType":"ERROR","name":"Your request failed. Check the `code` and `description` in the response to find out why your request failed.","description":"Your request failed. Check the `code` and `description` in the response to find out why your request failed.","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17819" data-toc="9db19a25_17819">Create an agreement for recurring payments</h3><div class="api-endpoint"><img alt="POST method" src="https://img.shields.io/badge/-POST-28B8A0" title="POST method"><copier tooltip-text="Copy path: /v1/agreements"><span>/v1/agreements</span></copier></div><p id="9db19a25_17821">You can use this endpoint to create a new agreement.</p><section class="chapter"><h4 id="9db19a25_17822" data-toc="9db19a25_17822">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17824" master-collapse="true" data-chapter-level="4"><script type="application/json">{"contentType":["application/json"],"header":"Body","contents":[{"id":"api_doc_4","name":"application/json","required":"true","typeName":"CreateAgreementRequest","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"description","description":"A human-readable description of the purpose of the agreement for recurring payments. We’ll show the description to your user when they make their first payment to activate this agreement. Limited to 255 characters.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"reference","description":"Associate a reference with this agreement to help you identify it. Limited to 255 characters.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"user_identifier","description":"Associate an identifier with the user who will enter into this agreement with your service.user_identifier is not unique – multiple agreements can have identical user_identifier values.You should not include personal data in user_identifier.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column><div class="tabs" data-tabs-class="api-tabs"><div class="tabs__content" data-title="JSON example" data-sync-tabs="tab-json-example"><div class="code-block" data-title="JSON example" data-lang="json">
{
  &quot;description&quot;: &quot;Dorset Council 2022/23 council tax subscription.&quot;,
  &quot;reference&quot;: &quot;CT-22-23-0001&quot;,
  &quot;user_identifier&quot;: &quot;user-3fb81107-76b7-4910&quot;
}
</div></div></div></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17826" data-toc="9db19a25_17826">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17827" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"201","statusType":"OK","name":"Created","description":"Created","contentType":["application/json"],"contents":[{"id":"api_doc_35","name":"application/json","typeName":"Agreement","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"agreement_id","description":"The unique ID GOV.UK Pay automatically associated with this agreement when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"cancelled_date","description":"The date and time this agreement was cancelled. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"created_date","description":"The date and time you created this agreement. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"description","description":"The description you sent when creating this agreement.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_27","name":"payment_instrument","typeName":"PaymentInstrument","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_23","name":"CardDetails","typeName":"CardDetails","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_10","name":"billing_address","typeName":"Address","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_5","name":"city","description":"The paying user\u0027s city.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_6","name":"country","description":"The paying user’s country, displayed as a 2-character ISO-3166-1-alpha-2 code.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_7","name":"line1","description":"The first line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"line2","description":"The second line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"postcode","description":"The paying user\u0027s postcode.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_11","name":"card_brand","description":"The brand of card the user paid with.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_15","name":"card_type","description":"The type of card the user paid with.`null` means your user paid with Google Pay or we did not recognise which type of card they paid with.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_12","name":"debit","typeKind":"PRIMITIVE"},{"id":"api_doc_13","name":"credit","typeKind":"PRIMITIVE"},{"id":"api_doc_14","name":"null","typeKind":"PRIMITIVE"}]},{"id":"api_doc_16","name":"cardholder_name","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_17","name":"expiry_date","description":"The expiry date of the card the user paid with in `MM/YY` format.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_18","name":"first_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_19","name":"last_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_22","name":"wallet_type","description":"The digital wallet type that the user paid with","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_20","name":"Apple Pay","typeKind":"PRIMITIVE"},{"id":"api_doc_21","name":"Google Pay","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_24","name":"created_date","description":"The date and time you created this payment instrument. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_26","name":"type","description":"The type of payment instrument.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_25","name":"card","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_28","name":"reference","description":"The reference you sent when creating this agreement.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_33","name":"status","description":"The status of this agreement. You can [read more about the meanings of each agreement status.](https://docs.payments.service.gov.uk/recurring_payments/#understanding-agreement-status)","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_29","name":"created","typeKind":"PRIMITIVE"},{"id":"api_doc_30","name":"active","typeKind":"PRIMITIVE"},{"id":"api_doc_31","name":"cancelled","typeKind":"PRIMITIVE"},{"id":"api_doc_32","name":"inactive","typeKind":"PRIMITIVE"}]},{"id":"api_doc_34","name":"user_identifier","description":"The identifier you sent when creating this agreement. `user_identifier` helps you identify users in your records.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"400","statusType":"ERROR","name":"Bad request","description":"Bad request","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"422","statusType":"ERROR","name":"Your request failed. Check the `code` and `description` in the response to find out why your request failed.","description":"Your request failed. Check the `code` and `description` in the response to find out why your request failed.","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17839" data-toc="9db19a25_17839">Get information about a single agreement for recurring payments</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/agreements/{agreementId}"><span>/v1/agreements/{agreementId}</span></copier></div><p id="9db19a25_17841">You can use this endpoint to get information about a single recurring payments agreement.</p><section class="chapter"><h4 id="9db19a25_17842" data-toc="9db19a25_17842">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17844" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"agreementId","description":"Returns the agreement with the matching `agreement_id`. GOV.UK Pay generated an `agreement_id` when you created the agreement.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17845" data-toc="9db19a25_17845">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17846" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_35","name":"application/json","typeName":"Agreement","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"agreement_id","description":"The unique ID GOV.UK Pay automatically associated with this agreement when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"cancelled_date","description":"The date and time this agreement was cancelled. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"created_date","description":"The date and time you created this agreement. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"description","description":"The description you sent when creating this agreement.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_27","name":"payment_instrument","typeName":"PaymentInstrument","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_23","name":"CardDetails","typeName":"CardDetails","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_10","name":"billing_address","typeName":"Address","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_5","name":"city","description":"The paying user\u0027s city.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_6","name":"country","description":"The paying user’s country, displayed as a 2-character ISO-3166-1-alpha-2 code.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_7","name":"line1","description":"The first line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"line2","description":"The second line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"postcode","description":"The paying user\u0027s postcode.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_11","name":"card_brand","description":"The brand of card the user paid with.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_15","name":"card_type","description":"The type of card the user paid with.`null` means your user paid with Google Pay or we did not recognise which type of card they paid with.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_12","name":"debit","typeKind":"PRIMITIVE"},{"id":"api_doc_13","name":"credit","typeKind":"PRIMITIVE"},{"id":"api_doc_14","name":"null","typeKind":"PRIMITIVE"}]},{"id":"api_doc_16","name":"cardholder_name","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_17","name":"expiry_date","description":"The expiry date of the card the user paid with in `MM/YY` format.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_18","name":"first_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_19","name":"last_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_22","name":"wallet_type","description":"The digital wallet type that the user paid with","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_20","name":"Apple Pay","typeKind":"PRIMITIVE"},{"id":"api_doc_21","name":"Google Pay","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_24","name":"created_date","description":"The date and time you created this payment instrument. This value uses Coordinated Universal Time (UTC) and ISO 8601 format – `YYYY-MM-DDThh:mm:ss.sssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_26","name":"type","description":"The type of payment instrument.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_25","name":"card","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_28","name":"reference","description":"The reference you sent when creating this agreement.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_33","name":"status","description":"The status of this agreement. You can [read more about the meanings of each agreement status.](https://docs.payments.service.gov.uk/recurring_payments/#understanding-agreement-status)","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_29","name":"created","typeKind":"PRIMITIVE"},{"id":"api_doc_30","name":"active","typeKind":"PRIMITIVE"},{"id":"api_doc_31","name":"cancelled","typeKind":"PRIMITIVE"},{"id":"api_doc_32","name":"inactive","typeKind":"PRIMITIVE"}]},{"id":"api_doc_34","name":"user_identifier","description":"The identifier you sent when creating this agreement. `user_identifier` helps you identify users in your records.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17856" data-toc="9db19a25_17856">Cancel an agreement for recurring payments</h3><div class="api-endpoint"><img alt="POST method" src="https://img.shields.io/badge/-POST-28B8A0" title="POST method"><copier tooltip-text="Copy path: /v1/agreements/{agreementId}/cancel"><span>/v1/agreements/{agreementId}/cancel</span></copier></div><p id="9db19a25_17858">You can use this endpoint to cancel a recurring payments agreement in the <code class="code" id="9db19a25_17859">active</code> status.</p><section class="chapter"><h4 id="9db19a25_17860" data-toc="9db19a25_17860">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17862" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"agreementId","description":"The `agreement_id` of the agreement you are cancelling","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17863" data-toc="9db19a25_17863">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17864" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"204","statusType":"OK","name":"No Content","description":"No Content","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"400","statusType":"ERROR","name":"Cancellation of agreement failed","description":"Cancellation of agreement failed","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17876" data-toc="9db19a25_17876">Send card details to authorise a MOTO payment</h3><div class="api-endpoint"><img alt="POST method" src="https://img.shields.io/badge/-POST-28B8A0" title="POST method"><copier tooltip-text="Copy path: /v1/auth"><span>/v1/auth</span></copier></div><p id="9db19a25_17878">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/moto_payments/moto_send_card_details_api/" id="9db19a25_17879" data-external="true" rel="noopener noreferrer">authorise payments</a> you have created with <code class="code" id="9db19a25_17880">authorisation_mode</code> set to <code class="code" id="9db19a25_17881">moto_api</code>.</p><section class="chapter"><h4 id="9db19a25_17882" data-toc="9db19a25_17882">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17884" master-collapse="true" data-chapter-level="4"><script type="application/json">{"contentType":["application/json"],"header":"Body","contents":[{"id":"api_doc_6","name":"application/json","required":"true","typeName":"AuthorisationRequest","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"card_number","description":"The full card number from the paying user\u0027s card.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"cardholder_name","description":"The name on the paying user\u0027s card.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"cvc","description":"The card verification code (CVC) or card verification value (CVV) on the paying user\u0027s card.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"expiry_date","description":"The expiry date of the paying user\u0027s card. This value must be in `MM/YY` format.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"one_time_token","description":"This single use token authorises your request and matches it to a payment. GOV.UK Pay generated the `one_time_token` when the payment was created.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column><div class="tabs" data-tabs-class="api-tabs"><div class="tabs__content" data-title="JSON example" data-sync-tabs="tab-json-example"><div class="code-block" data-title="JSON example" data-lang="json">
{
  &quot;card_number&quot;: &quot;4242424242424242&quot;,
  &quot;cardholder_name&quot;: &quot;J. Citizen&quot;,
  &quot;cvc&quot;: &quot;123&quot;,
  &quot;expiry_date&quot;: &quot;09/22&quot;,
  &quot;one_time_token&quot;: &quot;12345-edsfr-6789-gtyu&quot;
}
</div></div></div></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17886" data-toc="9db19a25_17886">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17887" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"204","statusType":"OK","name":"Your authorisation request was successful.","description":"Your authorisation request was successful.","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"400","statusType":"ERROR","name":"Your request is invalid. Check the `code` and `description` in the response to find out why your request failed.","description":"Your request is invalid. Check the `code` and `description` in the response to find out why your request failed.","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"402","statusType":"ERROR","name":"The `card_number` you sent is not a valid card number or you chose not to accept this card type. Check the `code` and `description` fields in the response to find out why your request failed.","description":"The `card_number` you sent is not a valid card number or you chose not to accept this card type. Check the `code` and `description` fields in the response to find out why your request failed.","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"422","statusType":"ERROR","name":"A value you sent is invalid or missing. Check the `code` and `description` in the response to find out why your request failed.","description":"A value you sent is invalid or missing. Check the `code` and `description` in the response to find out why your request failed.","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"There is something wrong with GOV.UK Pay. If there are no issues on our status page (https://payments.statuspage.io), you can contact us with your error code and we\u0027ll investigate.","description":"There is something wrong with GOV.UK Pay. If there are no issues on our status page (https://payments.statuspage.io), you can contact us with your error code and we\u0027ll investigate.","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17897" data-toc="9db19a25_17897">Search disputes</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/disputes"><span>/v1/disputes</span></copier></div><p id="9db19a25_17899">You can use this endpoint to search disputes. A dispute is when <a href="https://docs.payments.service.gov.uk/disputes/" id="9db19a25_17900" data-external="true" rel="noopener noreferrer">a paying user challenges a completed payment through their bank</a>.</p><section class="chapter"><h4 id="9db19a25_17901" data-toc="9db19a25_17901">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17903" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Query","contents":[{"id":"api_doc_1","name":"from_date","description":"Returns disputes raised on or after the `from_date`. Date and time must be coordinated Universal Time (UTC) and ISO 8601 format to second-level accuracy - `YYYY-MM-DDThh:mm:ssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"to_date","description":"Returns disputes raised before the `to_date`. Date and time must be coordinated Universal Time (UTC) and ISO 8601 format to second-level accuracy - `YYYY-MM-DDThh:mm:ssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"from_settled_date","description":"Returns disputes settled on or after the `from_settled_date`. Date must be in ISO 8601 format to date-level accuracy - `YYYY-MM-DD`. Disputes are settled when your payment service provider takes the disputed amount from a payout to your bank account.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"to_settled_date","description":"Returns disputes settled before the `to_settled_date`. Date must be in ISO 8601 format to date-level accuracy - `YYYY-MM-DD`. Disputes are settled when your payment service provider takes the disputed amount from a payout to your bank account.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"status","description":"Returns disputes with a matching `status`. `status` reflects what stage of the dispute process a dispute is at. You can [read more about the meanings of the different status values](https://docs.payments.service.gov.uk/disputes/#dispute-status)","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_5","name":"needs_response","typeKind":"PRIMITIVE"},{"id":"api_doc_6","name":"under_review","typeKind":"PRIMITIVE"},{"id":"api_doc_7","name":"lost","typeKind":"PRIMITIVE"},{"id":"api_doc_8","name":"won","typeKind":"PRIMITIVE"}]},{"id":"api_doc_10","name":"page","description":"Returns a specific page of results. Defaults to `1`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"display_size","description":"The number of disputes returned per results page. Defaults to `500`. Maximum value is `500`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17904" data-toc="9db19a25_17904">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17905" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_36","name":"application/json","typeName":"DisputesSearchResults","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"count","description":"Number of disputes on the current page of search results.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_17","name":"links","typeName":"SearchNavigationLinks","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"first_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_2","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_7","name":"last_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_5","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_6","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_10","name":"next_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_8","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_13","name":"prev_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_11","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_12","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_16","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_14","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_15","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_18","name":"page","description":"The page of results you’re viewing. To view other pages, make this request again using the \u0027page\u0027 parameter.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_34","name":"results","description":"Contains disputes matching your search criteria.","typeName":"Array of DisputeDetailForSearch","typeKind":"ARRAY","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_22","name":"_links","typeName":"DisputeLinksForSearch","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_21","name":"payment","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_19","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_23","name":"amount","description":"The disputed amount in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_24","name":"created_date","description":"The date and time the user\u0027s bank told GOV.UK Pay about this dispute.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_25","name":"dispute_id","description":"The unique ID GOV.UK Pay automatically associated with this dispute when the paying user disputed the payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_26","name":"evidence_due_date","description":"The deadline for submitting your supporting evidence. This value uses Coordinated Universal Time (UTC) and ISO 8601 format","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_27","name":"fee","description":"The payment service provider’s dispute fee, in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_28","name":"net_amount","description":"The amount, in pence, your payment service provider will take for a lost dispute. \u0027net_amount\u0027 is deducted from your payout after you lose the dispute. For example, a \u0027net_amount\u0027 of \u0027-1500\u0027 means your PSP will take £15.00 from your next payout into your bank account. \u0027net_amount\u0027 is always a negative value. \u0027net_amount\u0027 only appears if you lose the dispute.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_29","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_30","name":"reason","description":"The reason the paying user gave for disputing this payment. Possible values are: \u0027credit_not_processed\u0027, \u0027duplicate\u0027, \u0027fraudulent\u0027, \u0027general\u0027, \u0027product_not_received\u0027, \u0027product_unacceptable\u0027, \u0027unrecognised\u0027, \u0027subscription_cancelled\u0027, \u003e\u0027other\u0027","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_32","name":"settlement_summary","typeName":"SettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_31","name":"settled_date","description":"The date your payment service provider took the disputed payment and dispute fee from a payout to your bank account. This value appears in ISO 8601 format - `YYYY-MM-DD`. `settled_date` only appears if you lost the dispute.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_33","name":"status","description":"The current status of the dispute. Possible values are: \u0027needs_response\u0027, \u0027won\u0027, \u0027lost\u0027, \u0027under_review\u0027","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_35","name":"total","description":"Number of total disputes matching your search criteria.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"422","statusType":"ERROR","name":"Invalid parameters: from_date, to_date, from_settled_date, to_settled_date, status, display_size. See Public API documentation for the correct data formats","description":"Invalid parameters: from_date, to_date, from_settled_date, to_settled_date, status, display_size. See Public API documentation for the correct data formats","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17915" data-toc="9db19a25_17915">Search payments</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/payments"><span>/v1/payments</span></copier></div><p id="9db19a25_17917">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/reporting/#search-payments/" id="9db19a25_17918" data-external="true" rel="noopener noreferrer">search for payments you&rsquo;ve previously created</a>. Payments are sorted by date, with the most recently-created payment appearing first.</p><section class="chapter"><h4 id="9db19a25_17919" data-toc="9db19a25_17919">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17921" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Query","contents":[{"id":"api_doc_1","name":"reference","description":"Returns payments with `reference` values exactly matching your specified value.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"email","description":"Returns payments with matching `email` values. You can send full or partial email addresses. `email` is the paying user’s email address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_10","name":"state","description":"Returns payments in a matching `state`. `state` reflects where a payment is in the [payment status lifecycle](https://docs.payments.service.gov.uk/api_reference/#payment-status-lifecycle).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_3","name":"created","typeKind":"PRIMITIVE"},{"id":"api_doc_4","name":"started","typeKind":"PRIMITIVE"},{"id":"api_doc_5","name":"submitted","typeKind":"PRIMITIVE"},{"id":"api_doc_6","name":"success","typeKind":"PRIMITIVE"},{"id":"api_doc_7","name":"failed","typeKind":"PRIMITIVE"},{"id":"api_doc_8","name":"cancelled","typeKind":"PRIMITIVE"},{"id":"api_doc_9","name":"error","typeKind":"PRIMITIVE"}]},{"id":"api_doc_11","name":"card_brand","description":"Returns payments paid with a particular card brand.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_12","name":"from_date","description":"Returns payments created on or after the `from_date`. Date and time must be coordinated Universal Time (UTC) and ISO 8601 format to second-level accuracy - `YYYY-MM-DDThh:mm:ssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"to_date","description":"Returns payments created before the `to_date`. Date and time must be coordinated Universal Time (UTC) and ISO 8601 format to second-level accuracy - `YYYY-MM-DDThh:mm:ssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_14","name":"page","description":"Returns a [specific page of results](https://docs.payments.service.gov.uk/api_reference/#pagination). Defaults to `1`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_15","name":"display_size","description":"The number of payments returned [per results page](https://docs.payments.service.gov.uk/api_reference/#pagination). Defaults to `500`. Maximum value is `500`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_16","name":"cardholder_name","description":"Returns payments paid with cards under this cardholder name.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_17","name":"first_digits_card_number","description":"Returns payments paid by cards beginning with the `first_digits_card_number` value. `first_digits_card_number` value must be 6 digits.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_18","name":"last_digits_card_number","description":"Returns payments paid by cards ending with the `last_digits_card_number` value. `last_digits_card_number` value must be 4 digits.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_19","name":"from_settled_date","description":"Returns payments settled on or after the `from_settled_date` value. You can only search by settled date if your payment service provider is Stripe. Date must be in ISO 8601 format to date-level accuracy - `YYYY-MM-DD`. Payments are settled when your payment service provider sends funds to your bank account.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"to_settled_date","description":"Returns payments settled before the `to_settled_date` value. You can only search by settled date if your payment service provider is Stripe. Date must be in ISO 8601 format to date-level accuracy - `YYYY-MM-DD`. Payments are settled when your payment service provider sends funds to your bank account.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_21","name":"agreement_id","description":"Returns payments that were authorised using the agreement with this `agreement_id`. Must be an exact match.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17922" data-toc="9db19a25_17922">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17923" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_102","name":"application/json","typeName":"PaymentSearchResults","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_16","name":"_links","typeName":"SearchNavigationLinks","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_3","name":"first_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_6","name":"last_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_9","name":"next_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_7","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_12","name":"prev_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_10","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_15","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_13","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_14","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_17","name":"count","description":"Number of payments on the current page of search results.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_18","name":"page","description":"The [page of results you’re viewing](https://docs.payments.service.gov.uk/api_reference/#pagination). To view other pages, make this request again using the `page` parameter.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_100","name":"results","description":"Contains payments matching your search criteria.","typeName":"Array of PaymentDetailForSearch","typeKind":"ARRAY","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_38","name":"_links","typeName":"PaymentLinksForSearch","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_23","name":"cancel","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_19","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_21","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_22","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_28","name":"capture","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_24","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_25","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_26","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_27","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_31","name":"events","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_29","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_30","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_34","name":"refunds","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_32","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_33","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_37","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_35","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_36","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_39","name":"amount","description":"The description assigned to the payment when it was created.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_43","name":"authorisation_mode","description":"How the payment will be authorised. Payments created in `web` mode require the paying user to visit the `next_url` to complete the payment.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_40","name":"web","typeKind":"PRIMITIVE"},{"id":"api_doc_41","name":"moto_api","typeKind":"PRIMITIVE"},{"id":"api_doc_42","name":"external","typeKind":"PRIMITIVE"}]},{"id":"api_doc_46","name":"authorisation_summary","typeName":"AuthorisationSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_45","name":"three_d_secure","typeName":"ThreeDSecure","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_44","name":"required","description":"Indicates if this payment was authorised with 3D Secure authentication. `required` is `true` if the payment required 3D Secure authentication.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_47","name":"card_brand","description":"This attribute is deprecated. Please use `card_details.card_brand` instead.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_66","name":"card_details","typeName":"CardDetails","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_53","name":"billing_address","typeName":"Address","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_48","name":"city","description":"The paying user\u0027s city.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_49","name":"country","description":"The paying user’s country, displayed as a 2-character ISO-3166-1-alpha-2 code.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_50","name":"line1","description":"The first line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_51","name":"line2","description":"The second line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_52","name":"postcode","description":"The paying user\u0027s postcode.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_54","name":"card_brand","description":"The brand of card the user paid with.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_58","name":"card_type","description":"The type of card the user paid with.`null` means your user paid with Google Pay or we did not recognise which type of card they paid with.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_55","name":"debit","typeKind":"PRIMITIVE"},{"id":"api_doc_56","name":"credit","typeKind":"PRIMITIVE"},{"id":"api_doc_57","name":"null","typeKind":"PRIMITIVE"}]},{"id":"api_doc_59","name":"cardholder_name","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_60","name":"expiry_date","description":"The expiry date of the card the user paid with in `MM/YY` format.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_61","name":"first_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_62","name":"last_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_65","name":"wallet_type","description":"The digital wallet type that the user paid with","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_63","name":"Apple Pay","typeKind":"PRIMITIVE"},{"id":"api_doc_64","name":"Google Pay","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_67","name":"corporate_card_surcharge","description":"The [corporate card surcharge](https://docs.payments.service.gov.uk/corporate_card_surcharges/#add-corporate-card-fees) amount in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_68","name":"created_date","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_69","name":"delayed_capture","description":"`delayed_capture` is `true` if you’re [controlling how long it takes GOV.UK Pay to take (‘capture’) a payment](https://docs.payments.service.gov.uk/delayed_capture).","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_70","name":"description","description":"The description assigned to the payment when it was created.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_71","name":"email","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_72","name":"fee","description":"The [payment service provider’s (PSP) transaction fee](https://docs.payments.service.gov.uk/reporting/#psp-fees), in pence. `fee` only appears when we have taken (‘captured’) the payment from the user or if their payment fails after they submitted their card details. `fee` will not appear if your PSP is Worldpay or you are using an API key from a test service.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_75","name":"language","description":"The ISO-6391 Alpha-2 code of the [language of the user\u0027s payment page](https://docs.payments.service.gov.uk/optional_features/welsh_language).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_73","name":"en","typeKind":"PRIMITIVE"},{"id":"api_doc_74","name":"cy","typeKind":"PRIMITIVE"}]},{"id":"api_doc_77","name":"metadata","typeName":"ExternalMetadata","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_76","name":"metadata","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]}]},{"id":"api_doc_78","name":"moto","description":"Indicates if this payment is a [Mail Order / Telephone Order (MOTO) payment](https://docs.payments.service.gov.uk/moto_payments).","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_79","name":"net_amount","description":"The amount, in pence, that will be paid into your bank account after your payment service provider takes the `fee`.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_80","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_81","name":"payment_provider","description":"The payment service provider that processed this payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_82","name":"provider_id","description":"The unique ID your payment service provider generated for this payment. This is not the same as the `payment_id`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_83","name":"reference","description":"The reference associated with the payment when it was created. `reference` is not unique - multiple payments can have the same `reference` value.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_87","name":"refund_summary","typeName":"RefundSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_84","name":"amount_available","description":"How much you can refund to the user, in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_85","name":"amount_submitted","description":"How much you’ve already refunded to the user, in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_86","name":"status","description":"Whether you can [refund the payment](https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund-status).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_88","name":"return_url","description":"The URL you direct the paying user to after their payment journey on GOV.UK Pay ends.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_92","name":"settlement_summary","typeName":"PaymentSettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_89","name":"capture_submit_time","description":"The date and time GOV.UK Pay asked your payment service provider to take the payment from your user’s account. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_90","name":"captured_date","description":"The date your payment service provider took the payment from your user. This value uses ISO 8601 format - `YYYY-MM-DD`","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_91","name":"settled_date","description":"The date that the transaction was paid into the service\u0027s account.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_98","name":"state","typeName":"PaymentState","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_93","name":"can_retry","description":"If `can_retry` is `true`, you can use this agreement to try to take another recurring payment. If `can_retry` is `false`, you cannot take another recurring payment with this agreement. `can_retry` only appears on failed payments that were attempted using an agreement for recurring payments.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_94","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed. `code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_95","name":"finished","description":"Indicates whether a payment journey is finished.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_96","name":"message","description":"A description of what went wrong with this payment. `message` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_97","name":"status","description":"Where the payment is in [the payment status lifecycle](https://docs.payments.service.gov.uk/api_reference/#payment-status-meanings).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_99","name":"total_amount","description":"Amount your user paid in pence, including corporate card fees. `total_amount` only appears if you [added a corporate card surcharge to the payment](https://docs.payments.service.gov.uk/corporate_card_surcharges/#add-corporate-card-fees).","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_101","name":"total","description":"Total number of payments matching your search criteria.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"422","statusType":"ERROR","name":"Invalid parameters: from_date, to_date, status, display_size. See Public API documentation for the correct data formats","description":"Invalid parameters: from_date, to_date, status, display_size. See Public API documentation for the correct data formats","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17933" data-toc="9db19a25_17933">Create a payment</h3><div class="api-endpoint"><img alt="POST method" src="https://img.shields.io/badge/-POST-28B8A0" title="POST method"><copier tooltip-text="Copy path: /v1/payments"><span>/v1/payments</span></copier></div><p id="9db19a25_17935">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/making_payments/" id="9db19a25_17936" data-external="true" rel="noopener noreferrer">create a new payment</a>.</p><section class="chapter"><h4 id="9db19a25_17937" data-toc="9db19a25_17937">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17939" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Header","contents":[{"id":"api_doc_1","name":"Idempotency-Key","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group><api-param-group id="9db19a25_17940" master-collapse="true" data-chapter-level="4"><script type="application/json">{"contentType":["application/json"],"header":"Body","contents":[{"id":"api_doc_28","name":"application/json","required":"true","typeName":"CreateCardPaymentRequest","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_2","name":"agreement_id","description":"The unique ID GOV.UK Pay automatically associated with a recurring payments agreement. Including `agreement_id` in your request tells the API to take this payment using the card details that are associated with this agreement. `agreement_id` must match an active agreement ID. You must set `authorisation_mode` to `agreement` for the API to accept `agreement_id`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"amount","description":"Sets the amount the user will pay, in pence.","required":"true","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_7","name":"authorisation_mode","description":"Sets how you intend to authorise the payment. Defaults to `web`. Payments created with `web` mode follow the [standard GOV.UK Pay payment journey](https://docs.payments.service.gov.uk/payment_flow/). Paying users visit the `next_url` in the response to complete their payment. Payments created with `agreement` mode are authorised with an agreement for recurring payments. If you create an `agreement` payment, you must also send an active `agreement_id`. You must not send `return_url`, `email`, or `prefilled_cardholder_details` or your request will fail. Payments created with `moto_api` mode return an `auth_url_post` object and a `one_time_token`. You can use `auth_url_post` and `one_time_token` to send the paying user’s card details through the API and complete the payment. If you create a `moto_api` payment, do not send a `return_url` in your request.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_4","name":"web","typeKind":"PRIMITIVE"},{"id":"api_doc_5","name":"agreement","typeKind":"PRIMITIVE"},{"id":"api_doc_6","name":"moto_api","typeKind":"PRIMITIVE"}]},{"id":"api_doc_8","name":"delayed_capture","description":"You can use this parameter to [delay taking a payment from the paying user’s bank account](https://docs.payments.service.gov.uk/delayed_capture/#delay-taking-a-payment). For example, you might want to do your own anti-fraud checks on payments, or check that users are eligible for your service. Defaults to `false`.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"description","description":"A human-readable description of the payment you’re creating. Paying users see this description on the payment pages. Service staff see the description in the GOV.UK Pay admin tool","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_10","name":"email","description":"email","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"language","description":"[Sets the language of the user’s payment page](https://docs.payments.service.gov.uk/optional_features/welsh_language) with an ISO-6391 Alpha-2 code of a supported language.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_11","name":"en","typeKind":"PRIMITIVE"},{"id":"api_doc_12","name":"cy","typeKind":"PRIMITIVE"}]},{"id":"api_doc_15","name":"metadata","typeName":"ExternalMetadata","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_14","name":"metadata","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]}]},{"id":"api_doc_16","name":"moto","description":"You can use this parameter to [designate a payment as a Mail Order / Telephone Order (MOTO) payment](https://docs.payments.service.gov.uk/moto_payments).","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_24","name":"prefilled_cardholder_details","typeName":"PrefilledCardholderDetails","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_22","name":"billing_address","typeName":"Address","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_17","name":"city","description":"The paying user\u0027s city.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_18","name":"country","description":"The paying user’s country, displayed as a 2-character ISO-3166-1-alpha-2 code.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_19","name":"line1","description":"The first line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"line2","description":"The second line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_21","name":"postcode","description":"The paying user\u0027s postcode.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_23","name":"cardholder_name","description":"The cardholder name you prefilled when you created this payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_25","name":"reference","description":"Associate a reference with this payment. `reference` is not unique - multiple payments can have identical `reference` values.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_26","name":"return_url","description":"The URL [the paying user is directed to after their payment journey on GOV.UK Pay ends](https://docs.payments.service.gov.uk/making_payments/#choose-the-return-url-and-match-your-users-to-payments).","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_27","name":"set_up_agreement","description":"Use this parameter to set up an existing agreement for recurring payments. The `set_up_agreement` value you send must be a valid `agreement_id`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column><div class="tabs" data-tabs-class="api-tabs"><div class="tabs__content" data-title="JSON example" data-sync-tabs="tab-json-example"><div class="code-block" data-title="JSON example" data-lang="json">
{
  &quot;agreement_id&quot;: &quot;abcefghjklmnopqr1234567890&quot;,
  &quot;amount&quot;: 12000,
  &quot;authorisation_mode&quot;: &quot;web&quot;,
  &quot;delayed_capture&quot;: false,
  &quot;description&quot;: &quot;New passport application&quot;,
  &quot;email&quot;: &quot;Joe.Bogs@example.org&quot;,
  &quot;language&quot;: &quot;en&quot;,
  &quot;metadata&quot;: {
    &quot;metadata&quot;: {}
  },
  &quot;moto&quot;: false,
  &quot;prefilled_cardholder_details&quot;: {
    &quot;billing_address&quot;: {
      &quot;city&quot;: &quot;address city&quot;,
      &quot;country&quot;: &quot;GB&quot;,
      &quot;line1&quot;: &quot;address line 1&quot;,
      &quot;line2&quot;: &quot;address line 2&quot;,
      &quot;postcode&quot;: &quot;AB1 2CD&quot;
    },
    &quot;cardholder_name&quot;: &quot;J. Bogs&quot;
  },
  &quot;reference&quot;: &quot;12345&quot;,
  &quot;return_url&quot;: &quot;https://service-name.gov.uk/transactions/12345&quot;,
  &quot;set_up_agreement&quot;: &quot;abcefghjklmnopqr1234567890&quot;
}
</div></div></div></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17942" data-toc="9db19a25_17942">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17943" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"201","statusType":"OK","name":"Created","description":"Created","contentType":["application/json"],"contents":[{"id":"api_doc_83","name":"application/json","typeName":"CreatePaymentResult","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_33","name":"_links","typeName":"PaymentLinks","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_5","name":"auth_url_post","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_4","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_10","name":"cancel","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_6","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_7","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_9","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_15","name":"capture","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_11","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_12","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_14","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_18","name":"events","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_16","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_17","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_21","name":"next_url","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_19","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_26","name":"next_url_post","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_22","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_23","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_24","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_25","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_29","name":"refunds","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_27","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_28","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_32","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_30","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_31","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_34","name":"amount","description":"The amount, in pence, the user has paid or will pay. `amount` will match the value you sent in the request body.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_53","name":"card_details","typeName":"CardDetails","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_40","name":"billing_address","typeName":"Address","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_35","name":"city","description":"The paying user\u0027s city.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_36","name":"country","description":"The paying user’s country, displayed as a 2-character ISO-3166-1-alpha-2 code.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_37","name":"line1","description":"The first line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_38","name":"line2","description":"The second line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_39","name":"postcode","description":"The paying user\u0027s postcode.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_41","name":"card_brand","description":"The brand of card the user paid with.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_45","name":"card_type","description":"The type of card the user paid with.`null` means your user paid with Google Pay or we did not recognise which type of card they paid with.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_42","name":"debit","typeKind":"PRIMITIVE"},{"id":"api_doc_43","name":"credit","typeKind":"PRIMITIVE"},{"id":"api_doc_44","name":"null","typeKind":"PRIMITIVE"}]},{"id":"api_doc_46","name":"cardholder_name","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_47","name":"expiry_date","description":"The expiry date of the card the user paid with in `MM/YY` format.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_48","name":"first_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_49","name":"last_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_52","name":"wallet_type","description":"The digital wallet type that the user paid with","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_50","name":"Apple Pay","typeKind":"PRIMITIVE"},{"id":"api_doc_51","name":"Google Pay","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_54","name":"created_date","description":"The date you created the payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_55","name":"delayed_capture","description":"`delayed_capture` is `true` if you’re controlling [when GOV.UK Pay takes (‘captures’) the payment from the paying user’s bank account](https://docs.payments.service.gov.uk/delayed_capture).","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_56","name":"description","description":"The description you sent in the request body when creating this payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_57","name":"email","description":"The paying user’s email address. The paying user’s email field will be prefilled with this value when they make their payment. `email` does not appear if you did not include it in the request body.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_60","name":"language","description":"The language of the user’s payment page.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_58","name":"en","typeKind":"PRIMITIVE"},{"id":"api_doc_59","name":"cy","typeKind":"PRIMITIVE"}]},{"id":"api_doc_62","name":"metadata","typeName":"ExternalMetadata","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_61","name":"metadata","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]}]},{"id":"api_doc_63","name":"moto","description":"Indicates if this payment is a [Mail Order / Telephone Order (MOTO) payment](https://docs.payments.service.gov.uk/moto_payments).","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_64","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_65","name":"payment_provider","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_66","name":"provider_id","description":"The reference number your payment service provider associated with the payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_67","name":"reference","description":"The reference number you associated with this payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_71","name":"refund_summary","typeName":"RefundSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_68","name":"amount_available","description":"How much you can refund to the user, in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_69","name":"amount_submitted","description":"How much you’ve already refunded to the user, in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_70","name":"status","description":"Whether you can [refund the payment](https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund-status).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_72","name":"return_url","description":"The URL you direct the paying user to after their payment journey on GOV.UK Pay ends.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_76","name":"settlement_summary","typeName":"PaymentSettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_73","name":"capture_submit_time","description":"The date and time GOV.UK Pay asked your payment service provider to take the payment from your user’s account. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_74","name":"captured_date","description":"The date your payment service provider took the payment from your user. This value uses ISO 8601 format - `YYYY-MM-DD`","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_75","name":"settled_date","description":"The date that the transaction was paid into the service\u0027s account.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_82","name":"state","typeName":"PaymentState","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_77","name":"can_retry","description":"If `can_retry` is `true`, you can use this agreement to try to take another recurring payment. If `can_retry` is `false`, you cannot take another recurring payment with this agreement. `can_retry` only appears on failed payments that were attempted using an agreement for recurring payments.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_78","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed. `code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_79","name":"finished","description":"Indicates whether a payment journey is finished.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_80","name":"message","description":"A description of what went wrong with this payment. `message` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_81","name":"status","description":"Where the payment is in [the payment status lifecycle](https://docs.payments.service.gov.uk/api_reference/#payment-status-meanings).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]}],"kind":"ApiResponse"}, {"statusCode":"400","statusType":"ERROR","name":"Bad request","description":"Bad request","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"422","statusType":"ERROR","name":"Your request failed. Check the `code` and `description` in the response to find out why your request failed.","description":"Your request failed. Check the `code` and `description` in the response to find out why your request failed.","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17955" data-toc="9db19a25_17955">Get information about a single payment</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/payments/{paymentId}"><span>/v1/payments/{paymentId}</span></copier></div><p id="9db19a25_17957">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/reporting/#get-information-about-a-single-payment" id="9db19a25_17958" data-external="true" rel="noopener noreferrer">get details about a single payment you&rsquo;ve previously created</a>.</p><section class="chapter"><h4 id="9db19a25_17959" data-toc="9db19a25_17959">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17961" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"paymentId","description":"Returns the payment with the matching `payment_id`.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17962" data-toc="9db19a25_17962">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17963" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_95","name":"application/json","typeName":"PaymentWithAllLinks","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_33","name":"_links","typeName":"PaymentLinks","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_5","name":"auth_url_post","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_4","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_10","name":"cancel","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_6","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_7","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_9","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_15","name":"capture","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_11","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_12","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_14","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_18","name":"events","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_16","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_17","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_21","name":"next_url","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_19","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_26","name":"next_url_post","typeName":"PostLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_22","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_23","name":"method","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_24","name":"params","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]},{"id":"api_doc_25","name":"type","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_29","name":"refunds","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_27","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_28","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_32","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_30","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_31","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_34","name":"amount","description":"The description assigned to the payment when it was created.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_38","name":"authorisation_mode","description":"How the payment will be authorised. Payments created in `web` mode require the paying user to visit the `next_url` to complete the payment.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_35","name":"web","typeKind":"PRIMITIVE"},{"id":"api_doc_36","name":"moto_api","typeKind":"PRIMITIVE"},{"id":"api_doc_37","name":"external","typeKind":"PRIMITIVE"}]},{"id":"api_doc_41","name":"authorisation_summary","typeName":"AuthorisationSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_40","name":"three_d_secure","typeName":"ThreeDSecure","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_39","name":"required","description":"Indicates if this payment was authorised with 3D Secure authentication. `required` is `true` if the payment required 3D Secure authentication.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_42","name":"card_brand","description":"This attribute is deprecated. Please use `card_details.card_brand` instead.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_61","name":"card_details","typeName":"CardDetails","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_48","name":"billing_address","typeName":"Address","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_43","name":"city","description":"The paying user\u0027s city.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_44","name":"country","description":"The paying user’s country, displayed as a 2-character ISO-3166-1-alpha-2 code.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_45","name":"line1","description":"The first line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_46","name":"line2","description":"The second line of the paying user’s address.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_47","name":"postcode","description":"The paying user\u0027s postcode.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_49","name":"card_brand","description":"The brand of card the user paid with.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_53","name":"card_type","description":"The type of card the user paid with.`null` means your user paid with Google Pay or we did not recognise which type of card they paid with.","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_50","name":"debit","typeKind":"PRIMITIVE"},{"id":"api_doc_51","name":"credit","typeKind":"PRIMITIVE"},{"id":"api_doc_52","name":"null","typeKind":"PRIMITIVE"}]},{"id":"api_doc_54","name":"cardholder_name","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_55","name":"expiry_date","description":"The expiry date of the card the user paid with in `MM/YY` format.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_56","name":"first_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_57","name":"last_digits_card_number","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_60","name":"wallet_type","description":"The digital wallet type that the user paid with","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_58","name":"Apple Pay","typeKind":"PRIMITIVE"},{"id":"api_doc_59","name":"Google Pay","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_62","name":"corporate_card_surcharge","description":"The [corporate card surcharge](https://docs.payments.service.gov.uk/corporate_card_surcharges/#add-corporate-card-fees) amount in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_63","name":"created_date","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_64","name":"delayed_capture","description":"`delayed_capture` is `true` if you’re [controlling how long it takes GOV.UK Pay to take (‘capture’) a payment](https://docs.payments.service.gov.uk/delayed_capture).","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_65","name":"description","description":"The description assigned to the payment when it was created.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_66","name":"email","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_67","name":"fee","description":"The [payment service provider’s (PSP) transaction fee](https://docs.payments.service.gov.uk/reporting/#psp-fees), in pence. `fee` only appears when we have taken (‘captured’) the payment from the user or if their payment fails after they submitted their card details. `fee` will not appear if your PSP is Worldpay or you are using an API key from a test service.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_70","name":"language","description":"The ISO-6391 Alpha-2 code of the [language of the user\u0027s payment page](https://docs.payments.service.gov.uk/optional_features/welsh_language).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_68","name":"en","typeKind":"PRIMITIVE"},{"id":"api_doc_69","name":"cy","typeKind":"PRIMITIVE"}]},{"id":"api_doc_72","name":"metadata","typeName":"ExternalMetadata","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_71","name":"metadata","typeName":"object","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[]}]},{"id":"api_doc_73","name":"moto","description":"Indicates if this payment is a [Mail Order / Telephone Order (MOTO) payment](https://docs.payments.service.gov.uk/moto_payments).","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_74","name":"net_amount","description":"The amount, in pence, that will be paid into your bank account after your payment service provider takes the `fee`.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_75","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_76","name":"payment_provider","description":"The payment service provider that processed this payment.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_77","name":"provider_id","description":"The unique ID your payment service provider generated for this payment. This is not the same as the `payment_id`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_78","name":"reference","description":"The reference associated with the payment when it was created. `reference` is not unique - multiple payments can have the same `reference` value.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_82","name":"refund_summary","typeName":"RefundSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_79","name":"amount_available","description":"How much you can refund to the user, in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_80","name":"amount_submitted","description":"How much you’ve already refunded to the user, in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_81","name":"status","description":"Whether you can [refund the payment](https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund-status).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_83","name":"return_url","description":"The URL you direct the paying user to after their payment journey on GOV.UK Pay ends.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_87","name":"settlement_summary","typeName":"PaymentSettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_84","name":"capture_submit_time","description":"The date and time GOV.UK Pay asked your payment service provider to take the payment from your user’s account. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_85","name":"captured_date","description":"The date your payment service provider took the payment from your user. This value uses ISO 8601 format - `YYYY-MM-DD`","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_86","name":"settled_date","description":"The date that the transaction was paid into the service\u0027s account.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_93","name":"state","typeName":"PaymentState","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_88","name":"can_retry","description":"If `can_retry` is `true`, you can use this agreement to try to take another recurring payment. If `can_retry` is `false`, you cannot take another recurring payment with this agreement. `can_retry` only appears on failed payments that were attempted using an agreement for recurring payments.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_89","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed. `code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_90","name":"finished","description":"Indicates whether a payment journey is finished.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_91","name":"message","description":"A description of what went wrong with this payment. `message` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_92","name":"status","description":"Where the payment is in [the payment status lifecycle](https://docs.payments.service.gov.uk/api_reference/#payment-status-meanings).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_94","name":"total_amount","description":"Amount your user paid in pence, including corporate card fees. `total_amount` only appears if you [added a corporate card surcharge to the payment](https://docs.payments.service.gov.uk/corporate_card_surcharges/#add-corporate-card-fees).","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17973" data-toc="9db19a25_17973">Cancel payment</h3><div class="api-endpoint"><img alt="POST method" src="https://img.shields.io/badge/-POST-28B8A0" title="POST method"><copier tooltip-text="Copy path: /v1/payments/{paymentId}/cancel"><span>/v1/payments/{paymentId}/cancel</span></copier></div><p id="9db19a25_17975">You can use this endpoint <a href="https://docs.payments.service.gov.uk/making_payments/#cancel-a-payment-that-s-in-progress" id="9db19a25_17976" data-external="true" rel="noopener noreferrer">to cancel an unfinished payment</a>.</p><section class="chapter"><h4 id="9db19a25_17977" data-toc="9db19a25_17977">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17979" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"paymentId","description":"The `payment_id` of the payment you’re cancelling.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_17980" data-toc="9db19a25_17980">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_17981" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"204","statusType":"OK","name":"No Content","description":"No Content","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"400","statusType":"ERROR","name":"Cancellation of payment failed","description":"Cancellation of payment failed","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"409","statusType":"ERROR","name":"Conflict","description":"Conflict","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_17995" data-toc="9db19a25_17995">Take a delayed payment</h3><div class="api-endpoint"><img alt="POST method" src="https://img.shields.io/badge/-POST-28B8A0" title="POST method"><copier tooltip-text="Copy path: /v1/payments/{paymentId}/capture"><span>/v1/payments/{paymentId}/capture</span></copier></div><p id="9db19a25_17997">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/delayed_capture/" id="9db19a25_17998" data-external="true" rel="noopener noreferrer">take (&lsquo;capture&rsquo;) a delayed payment from the paying user&rsquo;s bank account</a>.</p><section class="chapter"><h4 id="9db19a25_17999" data-toc="9db19a25_17999">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18001" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"paymentId","description":"The `payment_id` of the payment you’re capturing.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_18002" data-toc="9db19a25_18002">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18003" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"204","statusType":"OK","name":"No Content","description":"No Content","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"400","statusType":"ERROR","name":"Capture of payment failed","description":"Capture of payment failed","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"409","statusType":"ERROR","name":"Conflict","description":"Conflict","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_18017" data-toc="9db19a25_18017">Get a payment's events</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/payments/{paymentId}/events"><span>/v1/payments/{paymentId}/events</span></copier></div><p id="9db19a25_18019">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/reporting/#get-a-payment-s-events" id="9db19a25_18020" data-external="true" rel="noopener noreferrer">get a list of a payment&rsquo;s events</a>. A payment event is when a payment&rsquo;s <code class="code" id="9db19a25_18021">state</code> changes, such as when the payment is created, or when the paying user submits their details.</p><section class="chapter"><h4 id="9db19a25_18022" data-toc="9db19a25_18022">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18024" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"paymentId","description":"Payment identifier","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_18025" data-toc="9db19a25_18025">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18026" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_19","name":"application/json","typeName":"PaymentEvents","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"_links","typeName":"PaymentLinksForEvents","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_3","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_17","name":"events","typeName":"Array of PaymentEvent","typeKind":"ARRAY","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_8","name":"_links","typeName":"PaymentEventLink","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_7","name":"payment_url","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_5","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_6","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_9","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_15","name":"state","typeName":"PaymentState","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_10","name":"can_retry","description":"If `can_retry` is `true`, you can use this agreement to try to take another recurring payment. If `can_retry` is `false`, you cannot take another recurring payment with this agreement. `can_retry` only appears on failed payments that were attempted using an agreement for recurring payments.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed. `code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_12","name":"finished","description":"Indicates whether a payment journey is finished.","typeName":"boolean","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"message","description":"A description of what went wrong with this payment. `message` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_14","name":"status","description":"Where the payment is in [the payment status lifecycle](https://docs.payments.service.gov.uk/api_reference/#payment-status-meanings).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_16","name":"updated","description":"When this payment’s state changed. This value uses Coordinated Universal Time (UTC) and ISO-8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_18","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_18036" data-toc="9db19a25_18036">Get information about a payment&rsquo;s refunds</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/payments/{paymentId}/refunds"><span>/v1/payments/{paymentId}/refunds</span></copier></div><p id="9db19a25_18038">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/refunding_payments/#get-all-refunds-for-a-single-payment" id="9db19a25_18039" data-external="true" rel="noopener noreferrer">get a list of refunds for a payment</a>.</p><section class="chapter"><h4 id="9db19a25_18040" data-toc="9db19a25_18040">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18042" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"paymentId","description":"The unique `payment_id` of the payment you want a list of refunds for.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_18043" data-toc="9db19a25_18043">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18044" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_28","name":"application/json","typeName":"RefundForSearchResult","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_19","name":"_embedded","typeName":"EmbeddedRefunds","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_18","name":"refunds","typeName":"Array of Refund","typeKind":"ARRAY","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_7","name":"_links","typeName":"RefundLinksForSearch","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_3","name":"payment","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_6","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_8","name":"amount","description":"The amount refunded to the user in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"created_date","description":"The date and time you created this refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_10","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"refund_id","description":"The unique ID GOV.UK Pay automatically associated with this refund when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"settlement_summary","typeName":"RefundSettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_12","name":"settled_date","description":"The date Stripe took the refund from a payout to your bank account. `settled_date` only appears if Stripe has taken the refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DD`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_17","name":"status","description":"The [status of the refund](https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund-status).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_14","name":"submitted","typeKind":"PRIMITIVE"},{"id":"api_doc_15","name":"success","typeKind":"PRIMITIVE"},{"id":"api_doc_16","name":"error","typeKind":"PRIMITIVE"}]}]}]},{"id":"api_doc_26","name":"_links","typeName":"RefundLinksForSearch","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_22","name":"payment","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_20","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_21","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_25","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_23","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_24","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_27","name":"payment_id","description":"The unique ID GOV.UK Pay associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_18054" data-toc="9db19a25_18054">Refund a payment</h3><div class="api-endpoint"><img alt="POST method" src="https://img.shields.io/badge/-POST-28B8A0" title="POST method"><copier tooltip-text="Copy path: /v1/payments/{paymentId}/refunds"><span>/v1/payments/{paymentId}/refunds</span></copier></div><p id="9db19a25_18056">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/refunding_payments" id="9db19a25_18057" data-external="true" rel="noopener noreferrer">fully or partially refund a payment</a>.</p><section class="chapter"><h4 id="9db19a25_18058" data-toc="9db19a25_18058">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18060" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"paymentId","description":"The unique `payment_id` of the payment you want to refund.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group><api-param-group id="9db19a25_18061" master-collapse="true" data-chapter-level="4"><script type="application/json">{"contentType":["application/json"],"header":"Body","contents":[{"id":"api_doc_4","name":"application/json","required":"true","typeName":"PaymentRefundRequest","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_2","name":"amount","description":"The amount you want to [refund to your user](https://docs.payments.service.gov.uk/refunding_payments/) in pence.","required":"true","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"refund_amount_available","description":"Amount in pence. Total amount still available before issuing the refund","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column><div class="tabs" data-tabs-class="api-tabs"><div class="tabs__content" data-title="JSON example" data-sync-tabs="tab-json-example"><div class="code-block" data-title="JSON example" data-lang="json">
{
  &quot;amount&quot;: 150000,
  &quot;refund_amount_available&quot;: 200000
}
</div></div></div></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_18063" data-toc="9db19a25_18063">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18064" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"successful operation","description":"successful operation","contentType":["application/json"],"contents":[{"id":"api_doc_18","name":"application/json","typeName":"Refund","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_7","name":"_links","typeName":"RefundLinksForSearch","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_3","name":"payment","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_6","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_8","name":"amount","description":"The amount refunded to the user in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"created_date","description":"The date and time you created this refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_10","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"refund_id","description":"The unique ID GOV.UK Pay automatically associated with this refund when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"settlement_summary","typeName":"RefundSettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_12","name":"settled_date","description":"The date Stripe took the refund from a payout to your bank account. `settled_date` only appears if Stripe has taken the refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DD`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_17","name":"status","description":"The [status of the refund](https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund-status).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_14","name":"submitted","typeKind":"PRIMITIVE"},{"id":"api_doc_15","name":"success","typeKind":"PRIMITIVE"},{"id":"api_doc_16","name":"error","typeKind":"PRIMITIVE"}]}]}],"kind":"ApiResponse"}, {"statusCode":"202","statusType":"OK","name":"ACCEPTED","description":"ACCEPTED","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"412","statusType":"ERROR","name":"Refund amount available mismatch","description":"Refund amount available mismatch","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_18078" data-toc="9db19a25_18078">Check the status of a refund</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/payments/{paymentId}/refunds/{refundId}"><span>/v1/payments/{paymentId}/refunds/{refundId}</span></copier></div><p id="9db19a25_18080">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund" id="9db19a25_18081" data-external="true" rel="noopener noreferrer">get details about an individual refund</a>.</p><section class="chapter"><h4 id="9db19a25_18082" data-toc="9db19a25_18082">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18084" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Path","contents":[{"id":"api_doc_1","name":"paymentId","description":"The unique `payment_id` of the payment you want to view a refund of.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"refundId","description":"The unique `refund_id` of the refund you want to view. If one payment has multiple refunds, each refund has a different `refund_id`.","required":"true","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_18085" data-toc="9db19a25_18085">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18086" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_18","name":"application/json","typeName":"Refund","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_7","name":"_links","typeName":"RefundLinksForSearch","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_3","name":"payment","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_6","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_8","name":"amount","description":"The amount refunded to the user in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_9","name":"created_date","description":"The date and time you created this refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_10","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"refund_id","description":"The unique ID GOV.UK Pay automatically associated with this refund when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_13","name":"settlement_summary","typeName":"RefundSettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_12","name":"settled_date","description":"The date Stripe took the refund from a payout to your bank account. `settled_date` only appears if Stripe has taken the refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DD`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_17","name":"status","description":"The [status of the refund](https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund-status).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_14","name":"submitted","typeKind":"PRIMITIVE"},{"id":"api_doc_15","name":"success","typeKind":"PRIMITIVE"},{"id":"api_doc_16","name":"error","typeKind":"PRIMITIVE"}]}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"404","statusType":"ERROR","name":"Not found","description":"Not found","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"429","statusType":"ERROR","name":"Too many requests","description":"Too many requests","contentType":["application/json"],"contents":[{"id":"api_doc_3","name":"application/json","typeName":"ErrorResponse","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"A GOV.UK Pay API error code. You can [find out more about this code in our documentation](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes).","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section><section class="chapter"><h3 id="9db19a25_18096" data-toc="9db19a25_18096">Search refunds</h3><div class="api-endpoint"><img alt="GET method" src="https://img.shields.io/badge/-GET-167DFF" title="GET method"><copier tooltip-text="Copy path: /v1/refunds"><span>/v1/refunds</span></copier></div><p id="9db19a25_18098">You can use this endpoint to <a href="https://docs.payments.service.gov.uk/refunding_payments/#searching-refunds" id="9db19a25_18099" data-external="true" rel="noopener noreferrer">search refunds you&rsquo;ve previously created</a>. The refunds are sorted by date, with the most recently created refunds appearing first.</p><section class="chapter"><h4 id="9db19a25_18100" data-toc="9db19a25_18100">Request parameters</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18102" master-collapse="true" data-chapter-level="4"><script type="application/json">{"header":"Query","contents":[{"id":"api_doc_1","name":"from_date","description":"Returns refunds created on or after the `from_date`. Date and time must use Coordinated Universal Time (UTC) and ISO 8601 format to second-level accuracy - `YYYY-MM-DDThh:mm:ssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"to_date","description":"Returns refunds created before the `to_date`. Date and time must use Coordinated Universal Time (UTC) and ISO 8601 format to second-level accuracy - `YYYY-MM-DDThh:mm:ssZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"from_settled_date","description":"Returns refunds settled on or after the `from_settled_date` value. You can only use `from_settled_date` if your payment service provider is Stripe. Date must use ISO 8601 format to date-level accuracy - `YYYY-MM-DD`. Refunds are settled when Stripe takes the refund from your account balance.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"to_settled_date","description":"Returns refunds settled before the `to_settled_date` value. You can only use `to_settled_date` if your payment service provider is Stripe. Date must use ISO 8601 format to date-level accuracy - `YYYY-MM-DD`. Refunds are settled when Stripe takes the refund from your account balance.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"page","description":"Returns a [specific page of results](https://docs.payments.service.gov.uk/api_reference/#pagination). Defaults to `1`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_6","name":"display_size","description":"The number of refunds returned [per results page](https://docs.payments.service.gov.uk/api_reference/#pagination). Defaults to `500`. Maximum value is `500`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}],"kind":"ApiParamGroup"}</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section><section class="chapter"><h4 id="9db19a25_18103" data-toc="9db19a25_18103">Responses</h4><api-block data-chapter-level="4"><primary-column><api-param-group id="9db19a25_18104" master-collapse="true" data-chapter-level="3"><script type="application/json">{ "contents" : [{"statusCode":"200","statusType":"OK","name":"OK - your request was successful.","description":"OK - your request was successful.","contentType":["application/json"],"contents":[{"id":"api_doc_38","name":"application/json","typeName":"RefundSearchResults","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_16","name":"_links","typeName":"SearchNavigationLinks","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_3","name":"first_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_6","name":"last_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_4","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_5","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_9","name":"next_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_7","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_8","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_12","name":"prev_page","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_10","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_11","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_15","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_13","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_14","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_17","name":"count","description":"Number of refunds on the current page of search results.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_18","name":"page","description":"The [page of results](payments.service.gov.uk/api_reference/#pagination) you’re viewing. To view other pages, make this request again using the `page` parameter.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_36","name":"results","description":"Contains the refunds matching your search criteria.","typeName":"Array of RefundDetailForSearch","typeKind":"ARRAY","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_25","name":"_links","typeName":"RefundLinksForSearch","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_21","name":"payment","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_19","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_20","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_24","name":"self","typeName":"Link","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_22","name":"href","description":"A URL that lets you perform additional actions to this payment when combined with the associated `method`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_23","name":"method","description":"An API method that lets you perform additional actions to this paymentwhen combined with the associated `href`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}]},{"id":"api_doc_26","name":"amount","description":"The amount refunded to the user in pence.","typeName":"integer int64","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_27","name":"created_date","description":"The date and time you created this refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DDThh:mm:ss.SSSZ`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_28","name":"payment_id","description":"The unique ID GOV.UK Pay automatically associated with this payment when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_29","name":"refund_id","description":"The unique ID GOV.UK Pay automatically associated with this refund when you created it.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_31","name":"settlement_summary","typeName":"RefundSettlementSummary","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_30","name":"settled_date","description":"The date Stripe took the refund from a payout to your bank account. `settled_date` only appears if Stripe has taken the refund. This value uses Coordinated Universal Time (UTC) and ISO 8601 format - `YYYY-MM-DD`.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]},{"id":"api_doc_35","name":"status","description":"The [status of the refund](https://docs.payments.service.gov.uk/refunding_payments/#checking-the-status-of-a-refund-status).","typeName":"Enum","typeKind":"ENUM","recursive":false,"contentsLabel":"Enum elements","contents":[{"id":"api_doc_32","name":"submitted","typeKind":"PRIMITIVE"},{"id":"api_doc_33","name":"success","typeKind":"PRIMITIVE"},{"id":"api_doc_34","name":"error","typeKind":"PRIMITIVE"}]}]},{"id":"api_doc_37","name":"total","description":"Number of refunds matching your search criteria.","typeName":"integer int32","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"401","statusType":"ERROR","name":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","description":"Your API key is missing or invalid. Read more about [authenticating GOV.UK Pay API requests](https://docs.payments.service.gov.uk/api_reference/#authentication)","contentType":[],"contents":[],"kind":"ApiResponse"}, {"statusCode":"422","statusType":"ERROR","name":"Invalid parameters. See Public API documentation for the correct data formats","description":"Invalid parameters. See Public API documentation for the correct data formats","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}, {"statusCode":"500","statusType":"ERROR","name":"Downstream system error","description":"Downstream system error","contentType":["application/json"],"contents":[{"id":"api_doc_5","name":"application/json","typeName":"RequestError","typeKind":"OBJECT","recursive":false,"contentsLabel":"Child attributes","contents":[{"id":"api_doc_1","name":"code","description":"An [API error code](https://docs.payments.service.gov.uk/api_reference/#gov-uk-pay-api-error-codes)that explains why the payment failed.\u003cbr\u003e\u003cbr\u003e`code` only appears if the payment failed.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_2","name":"description","description":"Additional details about the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_3","name":"field","description":"The parameter in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"},{"id":"api_doc_4","name":"header","description":"The header in your request that\u0027s causing the error.","typeName":"string","typeKind":"PRIMITIVE","contentsLabel":"Child attributes"}]}],"kind":"ApiResponse"}] }</script></api-param-group></primary-column><secondary-column></secondary-column></api-block></section></section></section><div class="last-modified">Last modified: 18 March 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="take-a-payment.html" class="navigation-links__prev">Take a payment</a><a href="create-a-payment.html" class="navigation-links__next">Create a payment</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>